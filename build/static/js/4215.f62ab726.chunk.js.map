{"version":3,"file":"static/js/4215.f62ab726.chunk.js","mappings":"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","sources":["components/AllCompletedTasksBody.jsx","../node_modules/@mui/system/esm/createBox.js","../node_modules/@mui/material/Box/Box.js","../node_modules/@mui/material/Paper/paperClasses.js","../node_modules/@mui/material/Paper/Paper.js","../node_modules/@mui/system/esm/styleFunctionSx/extendSxProp.js","webpack://frontend/./src/components/style.css?15d9"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { DataGrid, GridToolbar } from \"@mui/x-data-grid\";\r\nimport style from \"./style.css\";\r\nimport Dialog from \"@mui/material/Dialog\";\r\nimport Box from \"@mui/material/Box\";\r\nimport DialogContent from \"@mui/material/DialogContent\";\r\nimport CircularProgress from \"@mui/material/CircularProgress\";\r\nimport jsPDF from \"jspdf\";\r\nimport html2canvas from \"html2canvas\";\r\nimport \"jspdf-autotable\";\r\nimport { Form, Button, Row, Col, Container, Modal } from \"react-bootstrap\";\r\nimport MuiAlert from \"@mui/material/Alert\";\r\n\r\nfunction AllCompletedTasksBody(props) {\r\n  let [open, setOpen] = useState(false);\r\n  let [openDialog, setOpenDialog] = useState(false);\r\n  let [items, setItems] = useState([]);\r\n  const axiosInstance = axios.create({\r\n    baseURL: process.env.REACT_APP_BACKEND_URL,\r\n  });\r\n  let [companies, setCompanies] = useState([]);\r\n  let [form, setForm] = useState({});\r\n  let [selectedTaskData, setSelectedTaskData] = useState([]);\r\n  let [show, setShow] = useState(false); // For PopUp window\r\n  let [showAcceptPopup, setShowAcceptPopup] = useState(false); // For PopUp window2\r\n  let [severity, setSeverity] = useState(\"\");\r\n  let [alart, setAlart] = useState(\"\");\r\n  let [mobitelUsersName, setMobitelUsersName] = useState([]);\r\n  let setField = (field, value) => {\r\n    setForm({\r\n      ...form,\r\n      [field]: value,\r\n    });\r\n  };\r\n  const Alert = React.forwardRef(function Alert(props, ref) {\r\n    return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\r\n  });\r\n\r\n  function modalClose() {\r\n    // For PopUp window\r\n    setShow(false);\r\n  }\r\n\r\n  function modalCloseAcceptPopup() {\r\n    // For PopUp window2\r\n    setShowAcceptPopup(false);\r\n  }\r\n\r\n  useEffect(() => {\r\n    getMobitelUserName();\r\n    setOpenDialog(true);\r\n    axiosInstance\r\n      .get(\"projonline/gettasks\", {\r\n        headers: {\r\n          token:\r\n            \"Bearer \" + JSON.parse(localStorage.getItem(\"user\")).accessToken,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        setItems(res.data.tasks);\r\n        setOpenDialog(false);\r\n\r\n        return;\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n\r\n  const getMobitelUserName = () => {\r\n    axiosInstance\r\n      .get(\"projonline/mobitelusers\", {\r\n        headers: {\r\n          token:\r\n            \"Bearer \" + JSON.parse(localStorage.getItem(\"user\")).accessToken,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        const mobitelUsersName = res.data.map((user) => ({\r\n          name: user.name,\r\n          _id: user._id,\r\n        }));\r\n\r\n        // console.log(mobitelUsersName);\r\n        setMobitelUsersName(mobitelUsersName);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const handleClick = (event, cellValues) => {\r\n    setSelectedTaskData(cellValues);\r\n    console.log(cellValues);\r\n  };\r\n\r\n  const columns = [\r\n    { field: \"taskRef\", headerName: \"Task ID\", width: 400 },\r\n    { field: \"siteID\", headerName: \"Site ID\", width: 125 },\r\n    { field: \"project\", headerName: \"Project\", width: 150 },\r\n    { field: \"subProject\", headerName: \"Sub Project\", width: 180 },\r\n    // {\r\n    //     field: \"companyName\",\r\n    //     headerName: \"Subcon / Vender\",\r\n    //     width: 220,\r\n    //     valueGetter: (params) => params.row.assignedSubcon.companyName,\r\n    // },\r\n    {\r\n      field: \"companyName\",\r\n      headerName: \"Subcon / Vendor\",\r\n      width: 220,\r\n      valueGetter: (params) => {\r\n        // Check if assignedSubcon is defined and not null\r\n        if (\r\n          params.row.assignedSubcon &&\r\n          params.row.assignedSubcon.companyName\r\n        ) {\r\n          return params.row.assignedSubcon.companyName;\r\n        } else {\r\n          // Display a blank value if assignedSubcon or companyName is undefined or null\r\n          return \"\";\r\n        }\r\n      },\r\n    },\r\n    // {\r\n    //     field: \"assignedMobitelOfficer\",\r\n    //     headerName: \"Assigned Officer\",\r\n    //     width: 210,\r\n    //     valueGetter: (params) => params.row.assignedMobitelOfficer.name,\r\n    // },\r\n    {\r\n      field: \"assignedMobitelOfficer\",\r\n      headerName: \"Assigned Officer\",\r\n      width: 210,\r\n      valueGetter: (params) => {\r\n        // Check if assignedMobitelOfficer is defined and not null\r\n        if (\r\n          params.row.assignedMobitelOfficer &&\r\n          params.row.assignedMobitelOfficer.name\r\n        ) {\r\n          return params.row.assignedMobitelOfficer.name;\r\n        } else {\r\n          // Display a blank value if assignedMobitelOfficer or name is undefined or null\r\n          return \"\";\r\n        }\r\n      },\r\n    },\r\n    {\r\n      field: \"Task handed over\",\r\n      headerName: \"Task Handover Date\",\r\n      width: 235,\r\n      valueGetter: (params) => {\r\n        for (let i = 0; i < params.row.taskHistory.length; i++) {\r\n          const temp =\r\n            params.row.taskHistory[i].taskStatus === \"Task handed over\";\r\n\r\n          if (temp) {\r\n            const dateTimeString = params.row.taskHistory[i].performedDate;\r\n            const dateObject = new Date(dateTimeString);\r\n            const year = dateObject.getFullYear();\r\n            const month = dateObject.getMonth() + 1; // Months are zero-based, so add 1\r\n            const day = dateObject.getDate();\r\n            const formattedDate = `${year}-${month < 10 ? \"0\" : \"\"}${month}-${\r\n              day < 10 ? \"0\" : \"\"\r\n            }${day}`;\r\n            return formattedDate;\r\n          }\r\n        }\r\n      },\r\n    },\r\n    {\r\n      field: \"Sitecommissioned\",\r\n      headerName: \"Commissioned Date\",\r\n      width: 240,\r\n      valueGetter: (params) => {\r\n        for (let i = 0; i < params.row.taskHistory.length; i++) {\r\n          const temp =\r\n            params.row.taskHistory[i].comStatus === \"Site Commissioned\";\r\n\r\n          if (temp) {\r\n            const dateTimeString = params.row.taskHistory[i].performedDate;\r\n            const dateObject = new Date(dateTimeString);\r\n            const year = dateObject.getFullYear();\r\n            const month = dateObject.getMonth() + 1; // Months are zero-based, so add 1\r\n            const day = dateObject.getDate();\r\n            const formattedDate = `${year}-${month < 10 ? \"0\" : \"\"}${month}-${\r\n              day < 10 ? \"0\" : \"\"\r\n            }${day}`;\r\n            return formattedDate;\r\n          }\r\n        }\r\n      },\r\n    },\r\n    { field: \"patStatus\", headerName: \"PAT Status\", width: 160 },\r\n    { field: \"onairStatus\", headerName: \"On-Air Status\", width: 180 },\r\n    {\r\n      field: \"optimizationAcceptance\",\r\n      headerName: \"RNO Acceptance\",\r\n      width: 210,\r\n    },\r\n    {\r\n      field: \"optimizationAcceptedBy\",\r\n      headerName: \"RNO Accepted By\",\r\n      width: 220,\r\n      valueGetter: (params) => {\r\n        for (let i = 0; i < params.row.taskHistory.length; i++) {\r\n          const temp =\r\n            params.row.taskHistory[i].taskStatus === \"Optimization Accepted\";\r\n\r\n          if (temp) {\r\n            const acceptedById = params.row.taskHistory[i].performedBy;\r\n            let acceptedUser = null;\r\n            mobitelUsersName.forEach((obj) => {\r\n              acceptedUser = acceptedById.name;\r\n            });\r\n            return acceptedUser;\r\n          }\r\n        }\r\n      },\r\n    },\r\n    {\r\n      field: \"Handover\",\r\n      width: 150,\r\n      cellClassName: \"small-font\",\r\n      renderCell: (cellValues) => {\r\n        return (\r\n          <Button\r\n            color=\"primary\"\r\n            onClick={(event) => {\r\n              handleClick(event, cellValues);\r\n              setShow(true);\r\n            }}\r\n          >\r\n            See Handover\r\n          </Button>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      field: \"RNO Action\",\r\n      width: 170,\r\n      cellClassName: \"small-font\",\r\n      renderCell: (cellValues) => {\r\n        return (\r\n          <Button\r\n            color=\"primary\"\r\n            onClick={(event) => {\r\n              handleClick(event, cellValues);\r\n              setShowAcceptPopup(true);\r\n            }}\r\n            style={{ textAlign: \"center\" }}\r\n            disabled={\r\n              cellValues.row.optimizationAcceptance !== \"\" &&\r\n              cellValues.row.optimizationAcceptance !== undefined \r\n            }\r\n          >\r\n            Accept\r\n          </Button>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n\r\n  const handleClose = (event, reason) => {\r\n    if (reason === \"clickaway\") {\r\n      return;\r\n    }\r\n    setOpenDialog(false);\r\n  };\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const taskObject = {\r\n      optimizationAcceptance: \"Accepted\",\r\n    };    \r\n    axiosInstance\r\n      .put(\r\n        \"projonline/update/\" + selectedTaskData.row._id,\r\n        {\r\n          taskObject,\r\n          taskHistory: {\r\n            taskStatus: \"Optimization Accepted\",\r\n            comment: form.taskOptimizationComment,\r\n          },\r\n        },\r\n        {\r\n          headers: {\r\n            token:\r\n              \"Bearer \" + JSON.parse(localStorage.getItem(\"user\")).accessToken,\r\n          },\r\n        }\r\n      )\r\n\r\n      .then((res) => {\r\n        // console.log(res.data)\r\n        setOpenDialog(true);\r\n        setTimeout(() => {\r\n          setAlart(res.data.alart);\r\n          setSeverity(res.data.severity);\r\n          setOpen(true);\r\n        }, 2000);\r\n\r\n        setTimeout(() => {\r\n          setOpenDialog(false);\r\n          setOpen(false);\r\n          setShowAcceptPopup(false);\r\n          // props.history.push({ pathname: '/allCompletedTasks' })\r\n        }, 1000);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {/* Content Wrapper. Contains page content */}\r\n      <div className=\"content-wrapper\">\r\n        <div className=\"content-header\">\r\n          <div className=\"col-sm-6\">\r\n            <h1>All Tasks</h1>\r\n          </div>\r\n        </div>\r\n\r\n        <Modal\r\n          show={show}\r\n          onHide={modalClose}\r\n          animation={false}\r\n          aria-labelledby=\"modal-modal-title\"\r\n          aria-describedby=\"modal-modal-description\"\r\n        >\r\n          <Box sx={style}>\r\n            <Modal.Header closeButton>\r\n              <Modal.Title>Handover Details</Modal.Title>\r\n            </Modal.Header>\r\n\r\n            {/* update */}\r\n            {show === true ? (\r\n              <Modal.Body>\r\n                <div>\r\n                  <Form.Label style={{ fontWeight: \"normal\" }}>\r\n                    Site ID : {selectedTaskData.row.siteID}\r\n                  </Form.Label>\r\n                </div>\r\n                <div>\r\n                  <Form.Label style={{ fontWeight: \"normal\" }}>\r\n                    Site Name : {selectedTaskData.row.siteName}\r\n                  </Form.Label>\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                  <Form.Label style={{ fontWeight: \"normal\" }}>\r\n                    Task ID : {selectedTaskData.row.taskRef}\r\n                  </Form.Label>\r\n                </div>\r\n                <div style={{ height: 500 }}>\r\n                  <DataGrid\r\n                    rows={selectedTaskData.row.headerProperties.map(\r\n                      (item, index) => ({\r\n                        id: index, // Assuming index can be used as a unique identifier for headerProperties\r\n                        DataField: item,\r\n                        Info: selectedTaskData.row.properties[index], // both arrays have the same length\r\n                      })\r\n                    )}\r\n                    columns={[\r\n                      { field: \"DataField\", headerName: \"Data Field\", flex: 1 },\r\n                      { field: \"Info\", headerName: \"Info\", flex: 1 },\r\n                    ]}\r\n                    pageSize={15}\r\n                    rowsPerPageOptions={[15]}\r\n                    rowHeight={25}\r\n                    headerHeight={30}\r\n                    components={{ Toolbar: GridToolbar }}\r\n                  />\r\n                </div>\r\n              </Modal.Body>\r\n            ) : null}\r\n          </Box>\r\n        </Modal>\r\n\r\n        <Modal\r\n          show={showAcceptPopup}\r\n          onHide={modalCloseAcceptPopup}\r\n          animation={false}\r\n          aria-labelledby=\"modal-modal-title\"\r\n          aria-describedby=\"modal-modal-description\"\r\n        >\r\n          <Box sx={style}>\r\n            <Modal.Header closeButton>\r\n              <Modal.Title>Submit Status</Modal.Title>\r\n            </Modal.Header>\r\n\r\n            {/* update */}\r\n            {showAcceptPopup === true ? (\r\n              <Modal.Body>\r\n                <div>\r\n                  <Form.Label style={{ fontWeight: \"normal\" }}>\r\n                    Site ID : {selectedTaskData.row.siteID}\r\n                  </Form.Label>\r\n                </div>\r\n                <div>\r\n                  <Form.Label style={{ fontWeight: \"normal\" }}>\r\n                    Site Name : {selectedTaskData.row.siteName}\r\n                  </Form.Label>\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                  <Form.Label style={{ fontWeight: \"normal\" }}>\r\n                    Task ID : {selectedTaskData.row.taskRef}\r\n                  </Form.Label>\r\n                </div>\r\n                <div>\r\n                  <row>\r\n                    <Form.Label>Status : </Form.Label>\r\n                  </row>\r\n                  <row> Accepted</row>\r\n                  <Row>\r\n                    <Form.Group as={Col} sm={12}>\r\n                      <Form.Label>Comments :</Form.Label>\r\n                      <Form.Control\r\n                        onChange={(e) =>\r\n                          setField(\"taskOptimizationComment\", e.target.value)\r\n                        }\r\n                        as=\"textarea\"\r\n                        rows={2}\r\n                        value={form.taskOptimizationComment}\r\n                        placeholder=\"Enter your comments here...\"\r\n                      />\r\n                    </Form.Group>\r\n                  </Row>\r\n                  <div className=\"d-flex justify-content-between\">\r\n                    <Button\r\n                      variant=\"primary\"\r\n                      onClick={onSubmit}\r\n                      className=\"ml-auto\"\r\n                    >\r\n                      Submit\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </Modal.Body>\r\n            ) : null}\r\n          </Box>\r\n        </Modal>\r\n\r\n        <div style={{ height: 610, width: \"100%\" }}>\r\n          <DataGrid\r\n            getRowId={(item) => item._id}\r\n            rows={items}\r\n            columns={columns}\r\n            pageSize={15}\r\n            rowsPerPageOptions={[15]}\r\n            rowHeight={30}\r\n            headerHeight={40}\r\n            components={{ Toolbar: GridToolbar }}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withRouter(AllCompletedTasksBody);\r\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"className\", \"component\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport styled from '@mui/styled-engine';\nimport styleFunctionSx, { extendSxProp } from './styleFunctionSx';\nimport useTheme from './useTheme';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default function createBox(options = {}) {\n  const {\n    defaultTheme\n  } = options;\n  const BoxRoot = styled('div')(styleFunctionSx);\n  const Box = /*#__PURE__*/React.forwardRef(function Box(inProps, ref) {\n    const theme = useTheme(defaultTheme);\n\n    const _extendSxProp = extendSxProp(inProps),\n          {\n      className,\n      component = 'div'\n    } = _extendSxProp,\n          other = _objectWithoutPropertiesLoose(_extendSxProp, _excluded);\n\n    return /*#__PURE__*/_jsx(BoxRoot, _extends({\n      as: component,\n      ref: ref,\n      className: clsx(className, 'MuiBox-root'),\n      theme: theme\n    }, other));\n  });\n  process.env.NODE_ENV !== \"production\" ? Box.propTypes\n  /* remove-proptypes */\n  = {\n    // ----------------------------- Warning --------------------------------\n    // | These PropTypes are generated from the TypeScript type definitions |\n    // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n    // ----------------------------------------------------------------------\n\n    /**\n     * @ignore\n     */\n    children: PropTypes.node,\n\n    /**\n     * The component used for the root node.\n     * Either a string to use a HTML element or a component.\n     */\n    component: PropTypes.elementType,\n\n    /**\n     * @ignore\n     */\n    sx: PropTypes.object\n  } : void 0;\n  return Box;\n}","import { createBox } from '@mui/system';\nimport { createTheme } from '../styles';\nconst defaultTheme = createTheme();\n/**\n * @ignore - do not document.\n */\n\nconst Box = createBox({\n  defaultTheme\n});\nexport default Box;","import { generateUtilityClass, generateUtilityClasses } from '@mui/core';\nexport function getPaperUtilityClass(slot) {\n  return generateUtilityClass('MuiPaper', slot);\n}\nconst paperClasses = generateUtilityClasses('MuiPaper', ['root', 'rounded', 'outlined', 'elevation', 'elevation0', 'elevation1', 'elevation2', 'elevation3', 'elevation4', 'elevation5', 'elevation6', 'elevation7', 'elevation8', 'elevation9', 'elevation10', 'elevation11', 'elevation12', 'elevation13', 'elevation14', 'elevation15', 'elevation16', 'elevation17', 'elevation18', 'elevation19', 'elevation20', 'elevation21', 'elevation22', 'elevation23', 'elevation24']);\nexport default paperClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"className\", \"component\", \"elevation\", \"square\", \"variant\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { chainPropTypes, integerPropType } from '@mui/utils';\nimport { unstable_composeClasses as composeClasses } from '@mui/core';\nimport { alpha } from '@mui/system';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport useTheme from '../styles/useTheme';\nimport { getPaperUtilityClass } from './paperClasses'; // Inspired by https://github.com/material-components/material-components-ios/blob/bca36107405594d5b7b16265a5b0ed698f85a5ee/components/Elevation/src/UIColor%2BMaterialElevation.m#L61\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nconst getOverlayAlpha = elevation => {\n  let alphaValue;\n\n  if (elevation < 1) {\n    alphaValue = 5.11916 * elevation ** 2;\n  } else {\n    alphaValue = 4.5 * Math.log(elevation + 1) + 2;\n  }\n\n  return (alphaValue / 100).toFixed(2);\n};\n\nconst useUtilityClasses = ownerState => {\n  const {\n    square,\n    elevation,\n    variant,\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root', variant, !square && 'rounded', variant === 'elevation' && `elevation${elevation}`]\n  };\n  return composeClasses(slots, getPaperUtilityClass, classes);\n};\n\nconst PaperRoot = styled('div', {\n  name: 'MuiPaper',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[ownerState.variant], !ownerState.square && styles.rounded, ownerState.variant === 'elevation' && styles[`elevation${ownerState.elevation}`]];\n  }\n})(({\n  theme,\n  ownerState\n}) => _extends({\n  backgroundColor: theme.palette.background.paper,\n  color: theme.palette.text.primary,\n  transition: theme.transitions.create('box-shadow')\n}, !ownerState.square && {\n  borderRadius: theme.shape.borderRadius\n}, ownerState.variant === 'outlined' && {\n  border: `1px solid ${theme.palette.divider}`\n}, ownerState.variant === 'elevation' && _extends({\n  boxShadow: theme.shadows[ownerState.elevation]\n}, theme.palette.mode === 'dark' && {\n  backgroundImage: `linear-gradient(${alpha('#fff', getOverlayAlpha(ownerState.elevation))}, ${alpha('#fff', getOverlayAlpha(ownerState.elevation))})`\n})));\nconst Paper = /*#__PURE__*/React.forwardRef(function Paper(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiPaper'\n  });\n\n  const {\n    className,\n    component = 'div',\n    elevation = 1,\n    square = false,\n    variant = 'elevation'\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const ownerState = _extends({}, props, {\n    component,\n    elevation,\n    square,\n    variant\n  });\n\n  const classes = useUtilityClasses(ownerState);\n\n  if (process.env.NODE_ENV !== 'production') {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    const theme = useTheme();\n\n    if (theme.shadows[elevation] === undefined) {\n      console.error([`MUI: The elevation provided <Paper elevation={${elevation}}> is not available in the theme.`, `Please make sure that \\`theme.shadows[${elevation}]\\` is defined.`].join('\\n'));\n    }\n  }\n\n  return /*#__PURE__*/_jsx(PaperRoot, _extends({\n    as: component,\n    ownerState: ownerState,\n    className: clsx(classes.root, className),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? Paper.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * Shadow depth, corresponds to `dp` in the spec.\n   * It accepts values between 0 and 24 inclusive.\n   * @default 1\n   */\n  elevation: chainPropTypes(integerPropType, props => {\n    const {\n      elevation,\n      variant\n    } = props;\n\n    if (elevation > 0 && variant === 'outlined') {\n      return new Error(`MUI: Combining \\`elevation={${elevation}}\\` with \\`variant=\"${variant}\"\\` has no effect. Either use \\`elevation={0}\\` or use a different \\`variant\\`.`);\n    }\n\n    return null;\n  }),\n\n  /**\n   * If `true`, rounded corners are disabled.\n   * @default false\n   */\n  square: PropTypes.bool,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.object,\n\n  /**\n   * The variant to use.\n   * @default 'elevation'\n   */\n  variant: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .oneOfType([PropTypes.oneOf(['elevation', 'outlined']), PropTypes.string])\n} : void 0;\nexport default Paper;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"sx\"];\nimport { propToStyleFunction } from '../getThemeValue';\n\nconst splitProps = props => {\n  const result = {\n    systemProps: {},\n    otherProps: {}\n  };\n  Object.keys(props).forEach(prop => {\n    if (propToStyleFunction[prop]) {\n      result.systemProps[prop] = props[prop];\n    } else {\n      result.otherProps[prop] = props[prop];\n    }\n  });\n  return result;\n};\n\nexport default function extendSxProp(props) {\n  const {\n    sx: inSx\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const {\n    systemProps,\n    otherProps\n  } = splitProps(other);\n  return _extends({}, otherProps, {\n    sx: _extends({}, systemProps, inSx)\n  });\n}","// extracted by mini-css-extract-plugin\nexport default {};"],"names":["withRouter","props","open","setOpen","useState","openDialog","setOpenDialog","items","setItems","axiosInstance","axios","baseURL","process","companies","setCompanies","form","setForm","selectedTaskData","setSelectedTaskData","show","setShow","showAcceptPopup","setShowAcceptPopup","severity","setSeverity","alart","setAlart","mobitelUsersName","setMobitelUsersName","useEffect","getMobitelUserName","get","headers","token","JSON","parse","localStorage","getItem","accessToken","then","res","data","tasks","catch","err","console","log","map","user","name","_id","handleClick","event","cellValues","columns","field","headerName","width","valueGetter","params","row","assignedSubcon","companyName","assignedMobitelOfficer","i","taskHistory","length","taskStatus","dateTimeString","performedDate","dateObject","Date","year","getFullYear","month","getMonth","day","getDate","comStatus","acceptedById","performedBy","acceptedUser","forEach","obj","cellClassName","renderCell","color","onClick","style","textAlign","disabled","optimizationAcceptance","undefined","className","onHide","animation","sx","closeButton","fontWeight","siteID","siteName","taskRef","height","rows","headerProperties","item","index","id","DataField","Info","properties","flex","pageSize","rowsPerPageOptions","rowHeight","headerHeight","components","Toolbar","GridToolbar","as","Col","sm","onChange","e","setField","value","target","taskOptimizationComment","placeholder","variant","preventDefault","put","taskObject","comment","setTimeout","error","getRowId","_excluded","Box","options","defaultTheme","BoxRoot","styled","styleFunctionSx","React","inProps","ref","theme","useTheme","_extendSxProp","extendSxProp","component","other","_objectWithoutPropertiesLoose","_jsx","_extends","clsx","createBox","createTheme","getPaperUtilityClass","slot","generateUtilityClass","generateUtilityClasses","getOverlayAlpha","elevation","alphaValue","Math","toFixed","PaperRoot","overridesResolver","styles","ownerState","root","square","rounded","backgroundColor","palette","background","paper","text","primary","transition","transitions","create","borderRadius","shape","border","divider","boxShadow","shadows","mode","backgroundImage","alpha","useThemeProps","classes","slots","composeClasses","useUtilityClasses","splitProps","result","systemProps","otherProps","Object","keys","prop","propToStyleFunction","inSx"],"sourceRoot":""}