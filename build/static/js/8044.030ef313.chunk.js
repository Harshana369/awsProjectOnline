(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[8044],{61301:function(e,t,a){"use strict";a.r(t);var o=a(29439),n=a(1413),i=a(72791),r=a(79271),l=a(74569),d=a.n(l),c=a(3986),s=(a(2468),a(24518)),u=a(47022),h=a(89743),p=a(2677),v=a(39474),m=a(16149),f=a(34575),x=a(19658),b=a(58484),Z=a.n(b),g=a(64554),S=a(39157),C=a(13239),y=a(29818),w=a(80184),z=i.forwardRef((function(e,t){return(0,w.jsx)(x.Z,(0,n.Z)({elevation:6,ref:t,variant:"filled"},e))}));t.default=(0,r.EN)((function(e){var t=(0,i.useState)([]),a=(0,o.Z)(t,2),n=a[0],r=a[1],l=(0,i.useState)([]),x=(0,o.Z)(l,2),b=x[0],j=x[1],R=(0,i.useState)(!1),k=(0,o.Z)(R,2),I=k[0],N=k[1],T=(0,i.useState)(""),V=(0,o.Z)(T,2),F=V[0],E=V[1],B=(0,i.useState)(""),L=(0,o.Z)(B,2),P=L[0],M=L[1],D=(0,i.useState)(!0),W=(0,o.Z)(D,2),O=W[0],_=W[1],G=(0,i.useState)({}),H=(0,o.Z)(G,2),q=H[0],A=H[1],U=(0,i.useState)(!1),J=(0,o.Z)(U,2),$=J[0],K=J[1],Q=(0,i.useState)(""),X=(0,o.Z)(Q,2),Y=X[0],ee=X[1],te=(0,i.useState)(""),ae=(0,o.Z)(te,2),oe=ae[0],ne=ae[1],ie=(0,i.useState)(!1),re=(0,o.Z)(ie,2),le=re[0],de=re[1],ce=function(){return{}},se=d().create({baseURL:"http://localhost:80/"});(0,i.useEffect)((function(){ue()}),[]);var ue=function(e,t){de(!0),se.get("projonline/allRateCards",{headers:{token:"Bearer "+JSON.parse(localStorage.getItem("user")).accessToken}}).then((function(e){j(e.data),de(!1)})).catch((function(e){console.log(e)}))},he=[{field:"rateCardDiv",headerName:"Division",width:250},{field:"rateCardSubcon",headerName:"Subcontractor",valueGetter:function(e){return e.row.rateCardSubcon.companyName},width:200},{field:"rateCardValidFrom",headerName:"Rate Card Valid From",valueGetter:function(e){return e.row.rateCardValidFrom.split("T")[0]},width:250},{field:"rateCardValidTo",headerName:"Rate Card Valid To",valueGetter:function(e){return e.row.rateCardValidTo.split("T")[0]},width:250},{field:"To Edit",width:150,renderCell:function(e){return(0,w.jsx)(s.Z,{variant:"contained",color:"primary",onClick:function(t){return a=e.row,N(!0),r(a),E(a.rateCardValidFrom.split("T")[0]),M(a.rateCardValidTo.split("T")[0]),void _(a.activeStatus);var a},children:"To Edit"})}},{field:"Download",width:150,renderCell:function(e){return(0,w.jsx)(s.Z,{variant:"contained",color:"primary",onClick:function(t){return function(e){var t=Z().utils.book_new(),a=[];console.log(e),e.rateCardItems.forEach((function(e){var t=[e.itemNo,e.itemDiscreption,e.erpCode,e.itemRate,e.itemUom];a.unshift(t)})),a.unshift(["itemNo","itemDiscreption","erpCode","itemRate","itemUom"]);var o=Z().utils.aoa_to_sheet(a);Z().utils.book_append_sheet(t,o,"Rate Card Details"),Z().writeFile(t,"Rate Card.xlsx")}(e.row)},children:"Download"})}}];return(0,w.jsxs)("div",{children:[(0,w.jsxs)("div",{className:"content-wrapper",children:[(0,w.jsx)("div",{className:"content-header",children:(0,w.jsx)("section",{className:"content-header",children:(0,w.jsx)("div",{className:"container-fluid",children:(0,w.jsx)("div",{children:(0,w.jsx)("div",{children:(0,w.jsx)(u.Z,{children:(0,w.jsxs)(h.Z,{children:[(0,w.jsx)(p.Z,{xs:2,children:(0,w.jsx)("h1",{children:"All Rate Cards"})}),(0,w.jsx)(p.Z,{xs:4}),(0,w.jsx)(p.Z,{children:(0,w.jsx)("div",{className:"vr"})}),(0,w.jsx)(p.Z,{children:(0,w.jsx)(s.Z,{variant:"contained",color:"primary",onClick:function(t){return e.history.push({pathname:"/addRateCard"})},children:"Add a new Rate Card"})})]})})})})})})}),(0,w.jsx)("div",{style:{height:610,width:"100%"},children:(0,w.jsx)(c._$r,{getRowId:function(e){return e._id},rows:b,columns:he,pageSize:15,rowsPerPageOptions:[15],rowHeight:30,headerHeight:40,components:{Toolbar:c.npt}})})]}),(0,w.jsxs)(v.Z,{show:I,onHide:function(){N(!1)},animation:!1,children:[(0,w.jsx)(v.Z.Header,{closeButton:!0,children:(0,w.jsx)(v.Z.Title,{children:"Edit Rate Card"})}),(0,w.jsx)(v.Z.Body,{children:(0,w.jsxs)(m.Z,{onSubmit:function(e){e.preventDefault();var t=ce();Object.keys(t).length>0?A(t):(de(!0),se.put("projonline/updatRateCard/"+n._id,{rateCardValidFrom:F,rateCardValidTo:P,activeStatus:O},{headers:{token:"Bearer "+JSON.parse(localStorage.getItem("user")).accessToken}}).then((function(e){ne(e.data.variant),ee("Rate Card Updated Successfully"),K(!0),E(""),M(""),N(!1),ue(),de(!1)})).catch((function(e){console.log(e)})))},children:[(0,w.jsxs)(h.Z,{className:"mb-3",children:[(0,w.jsxs)(m.Z.Group,{as:p.Z,children:[(0,w.jsx)(m.Z.Label,{children:"Rate Card Valid From"}),(0,w.jsx)(m.Z.Control,{onChange:function(e){return E(e.target.value)},value:F,type:"date",placeholder:"Enter Company Name",isInvalid:!!q.rateCardValidFrom}),(0,w.jsx)(m.Z.Control.Feedback,{type:"invalid",children:q.rateCardValidFrom})]}),(0,w.jsxs)(m.Z.Group,{as:p.Z,children:[(0,w.jsx)(m.Z.Label,{children:"Rate Card Valid To"}),(0,w.jsx)(m.Z.Control,{onChange:function(e){return M(e.target.value)},value:P,type:"date",placeholder:"Enter Company Name",isInvalid:!!q.rateCardValidTo}),(0,w.jsx)(m.Z.Control.Feedback,{type:"invalid",children:q.rateCardValidTo})]}),(0,w.jsxs)(m.Z.Group,{as:p.Z,children:[(0,w.jsx)(m.Z.Label,{children:"Active Status"}),(0,w.jsx)(m.Z.Check,{onChange:function(e){return _(!O)},value:O,checked:O,className:"col-md-9",id:"custom-switch-2",type:"switch"})]})]}),(0,w.jsx)(v.Z.Footer,{children:(0,w.jsx)(s.Z,{variant:"contained",color:"primary",type:"submit",children:"Save"})})]})})]}),(0,w.jsx)(f.Z,{open:$,autoHideDuration:6e3,onClose:function(){return K(!1)},anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,w.jsx)(z,{onClose:function(){return K(!1)},severity:oe,sx:{width:"100%"},children:Y})}),(0,w.jsx)(y.Z,{open:le,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:(0,w.jsx)(S.Z,{children:(0,w.jsx)(g.Z,{sx:{display:"flex"},children:(0,w.jsx)(C.Z,{})})})})]})}))},24518:function(e,t,a){"use strict";a.d(t,{Z:function(){return y}});var o=a(4942),n=a(63366),i=a(87462),r=a(72791),l=a(28182),d=a(85683),c=a(12065),s=a(47630),u=a(61046),h=a(72480),p=a(14036),v=a(89500);function m(e){return(0,v.Z)("MuiButton",e)}var f=(0,a(72823).Z)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","contained","containedInherit","containedPrimary","containedSecondary","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),x=a(80184),b=["children","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Z=function(e){return(0,i.Z)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},g=(0,s.ZP)(h.Z,{shouldForwardProp:function(e){return(0,s.FO)(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[t.root,t[a.variant],t["".concat(a.variant).concat((0,p.Z)(a.color))],t["size".concat((0,p.Z)(a.size))],t["".concat(a.variant,"Size").concat((0,p.Z)(a.size))],"inherit"===a.color&&t.colorInherit,a.disableElevation&&t.disableElevation,a.fullWidth&&t.fullWidth]}})((function(e){var t,a=e.theme,n=e.ownerState;return(0,i.Z)({},a.typography.button,(t={minWidth:64,padding:"6px 16px",borderRadius:a.shape.borderRadius,transition:a.transitions.create(["background-color","box-shadow","border-color","color"],{duration:a.transitions.duration.short}),"&:hover":(0,i.Z)({textDecoration:"none",backgroundColor:(0,c.Fq)(a.palette.text.primary,a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===n.variant&&"inherit"!==n.color&&{backgroundColor:(0,c.Fq)(a.palette[n.color].main,a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===n.variant&&"inherit"!==n.color&&{border:"1px solid ".concat(a.palette[n.color].main),backgroundColor:(0,c.Fq)(a.palette[n.color].main,a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===n.variant&&{backgroundColor:a.palette.grey.A100,boxShadow:a.shadows[4],"@media (hover: none)":{boxShadow:a.shadows[2],backgroundColor:a.palette.grey[300]}},"contained"===n.variant&&"inherit"!==n.color&&{backgroundColor:a.palette[n.color].dark,"@media (hover: none)":{backgroundColor:a.palette[n.color].main}}),"&:active":(0,i.Z)({},"contained"===n.variant&&{boxShadow:a.shadows[8]})},(0,o.Z)(t,"&.".concat(f.focusVisible),(0,i.Z)({},"contained"===n.variant&&{boxShadow:a.shadows[6]})),(0,o.Z)(t,"&.".concat(f.disabled),(0,i.Z)({color:a.palette.action.disabled},"outlined"===n.variant&&{border:"1px solid ".concat(a.palette.action.disabledBackground)},"outlined"===n.variant&&"secondary"===n.color&&{border:"1px solid ".concat(a.palette.action.disabled)},"contained"===n.variant&&{color:a.palette.action.disabled,boxShadow:a.shadows[0],backgroundColor:a.palette.action.disabledBackground})),t),"text"===n.variant&&{padding:"6px 8px"},"text"===n.variant&&"inherit"!==n.color&&{color:a.palette[n.color].main},"outlined"===n.variant&&{padding:"5px 15px",border:"1px solid ".concat("light"===a.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"outlined"===n.variant&&"inherit"!==n.color&&{color:a.palette[n.color].main,border:"1px solid ".concat((0,c.Fq)(a.palette[n.color].main,.5))},"contained"===n.variant&&{color:a.palette.getContrastText(a.palette.grey[300]),backgroundColor:a.palette.grey[300],boxShadow:a.shadows[2]},"contained"===n.variant&&"inherit"!==n.color&&{color:a.palette[n.color].contrastText,backgroundColor:a.palette[n.color].main},"inherit"===n.color&&{color:"inherit",borderColor:"currentColor"},"small"===n.size&&"text"===n.variant&&{padding:"4px 5px",fontSize:a.typography.pxToRem(13)},"large"===n.size&&"text"===n.variant&&{padding:"8px 11px",fontSize:a.typography.pxToRem(15)},"small"===n.size&&"outlined"===n.variant&&{padding:"3px 9px",fontSize:a.typography.pxToRem(13)},"large"===n.size&&"outlined"===n.variant&&{padding:"7px 21px",fontSize:a.typography.pxToRem(15)},"small"===n.size&&"contained"===n.variant&&{padding:"4px 10px",fontSize:a.typography.pxToRem(13)},"large"===n.size&&"contained"===n.variant&&{padding:"8px 22px",fontSize:a.typography.pxToRem(15)},n.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(t={boxShadow:"none","&:hover":{boxShadow:"none"}},(0,o.Z)(t,"&.".concat(f.focusVisible),{boxShadow:"none"}),(0,o.Z)(t,"&:active",{boxShadow:"none"}),(0,o.Z)(t,"&.".concat(f.disabled),{boxShadow:"none"}),t)})),S=(0,s.ZP)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var a=e.ownerState;return[t.startIcon,t["iconSize".concat((0,p.Z)(a.size))]]}})((function(e){var t=e.ownerState;return(0,i.Z)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},Z(t))})),C=(0,s.ZP)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var a=e.ownerState;return[t.endIcon,t["iconSize".concat((0,p.Z)(a.size))]]}})((function(e){var t=e.ownerState;return(0,i.Z)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},Z(t))})),y=r.forwardRef((function(e,t){var a=(0,u.Z)({props:e,name:"MuiButton"}),o=a.children,r=a.color,c=void 0===r?"primary":r,s=a.component,h=void 0===s?"button":s,v=a.disabled,f=void 0!==v&&v,Z=a.disableElevation,y=void 0!==Z&&Z,w=a.disableFocusRipple,z=void 0!==w&&w,j=a.endIcon,R=a.focusVisibleClassName,k=a.fullWidth,I=void 0!==k&&k,N=a.size,T=void 0===N?"medium":N,V=a.startIcon,F=a.type,E=a.variant,B=void 0===E?"text":E,L=(0,n.Z)(a,b),P=(0,i.Z)({},a,{color:c,component:h,disabled:f,disableElevation:y,disableFocusRipple:z,fullWidth:I,size:T,type:F,variant:B}),M=function(e){var t=e.color,a=e.disableElevation,o=e.fullWidth,n=e.size,r=e.variant,l=e.classes,c={root:["root",r,"".concat(r).concat((0,p.Z)(t)),"size".concat((0,p.Z)(n)),"".concat(r,"Size").concat((0,p.Z)(n)),"inherit"===t&&"colorInherit",a&&"disableElevation",o&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat((0,p.Z)(n))],endIcon:["endIcon","iconSize".concat((0,p.Z)(n))]},s=(0,d.Z)(c,m,l);return(0,i.Z)({},l,s)}(P),D=V&&(0,x.jsx)(S,{className:M.startIcon,ownerState:P,children:V}),W=j&&(0,x.jsx)(C,{className:M.endIcon,ownerState:P,children:j});return(0,x.jsxs)(g,(0,i.Z)({ownerState:P,component:h,disabled:f,focusRipple:!z,focusVisibleClassName:(0,l.Z)(M.focusVisible,R),ref:t,type:F},L,{classes:M,children:[D,o,W]}))}))},47022:function(e,t,a){"use strict";var o=a(87462),n=a(63366),i=a(81694),r=a.n(i),l=a(72791),d=a(10162),c=["bsPrefix","fluid","as","className"],s=l.forwardRef((function(e,t){var a=e.bsPrefix,i=e.fluid,s=e.as,u=void 0===s?"div":s,h=e.className,p=(0,n.Z)(e,c),v=(0,d.vE)(a,"container"),m="string"===typeof i?"-"+i:"-fluid";return l.createElement(u,(0,o.Z)({ref:t},p,{className:r()(h,i?""+v+m:v)}))}));s.displayName="Container",s.defaultProps={fluid:!1},t.Z=s},2468:function(){},55382:function(){},72095:function(){},61219:function(){}}]);
//# sourceMappingURL=8044.030ef313.chunk.js.map