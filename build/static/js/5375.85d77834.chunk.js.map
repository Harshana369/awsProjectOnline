{"version":3,"file":"static/js/5375.85d77834.chunk.js","mappings":"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","sources":["components/CompleteNewSpecificTaskBody.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { Form, Button, Row, Col } from \"react-bootstrap\";\nimport Snackbar from \"@mui/material/Snackbar\";\nimport MuiAlert from \"@mui/material/Alert\";\nimport XLSX from \"xlsx\";\nimport Dialog from \"@mui/material/Dialog\";\nimport Box from \"@mui/material/Box\";\nimport DialogContent from \"@mui/material/DialogContent\";\nimport CircularProgress from \"@mui/material/CircularProgress\";\n\nconst Alert = React.forwardRef(function Alert(props, ref) {\n  return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\n});\n\nfunction CompleteNewSpecificTaskBody(props) {\n  let [users, setUsers] = useState([]);\n  let [companies, setCompanies] = useState([]);\n  let [severity, setSeverity] = useState(\"\");\n  let [alart, setAlart] = useState(\"\");\n  const axiosInstance = axios.create({\n    baseURL: process.env.REACT_APP_BACKEND_URL,\n  });\n\n  let [form, setForm] = useState({});\n  let [errors, setErrors] = useState({});\n  let [open, setOpen] = useState(false);\n  let [openDialog, setOpenDialog] = useState(false);\n\n  let setField = (field, value) => {\n    setForm({\n      ...form,\n      [field]: value,\n    });\n    if (!!errors[field])\n      setErrors({\n        ...errors,\n        [field]: null,\n      });\n  };\n\n  const findFormErrors = () => {\n    const { taskCommencedComment } = form;\n    const newErrors = {};\n    // name errors\n    if (!taskCommencedComment || taskCommencedComment === \"\")\n      newErrors.taskCommencedComment = \"cannot be blank!\";\n\n    return newErrors;\n  };\n\n  useEffect(() => {\n    // console.log(props.location.data.row)\n    setUsers([{ name: props.location.data.row.assignedMobitelOfficer.name }]);\n    setCompanies([\n      { companyName: props.location.data.row.assignedSubcon.companyName },\n    ]);\n    setForm({\n      taskRef: props.location.data.row.taskRef,\n      siteID: props.location.data.row.siteID,\n      siteName: props.location.data.row.siteName,\n      plannedTaskStartDate:\n        props.location.data.row.plannedTaskStartDate.split(\"T\")[0],\n      actualTaskStartDate: props.location.data.row.taskHistory\n        .find((x) => x.taskStatus === \"Task commenced\")\n        .performedDate.split(\"T\")[0],\n      targetTaskComDate:\n        props.location.data.row.targetTaskComDate.split(\"T\")[0],\n      taskAssignedDiv: props.location.data.row.taskAssignedDiv,\n      assignedMobitelOfficer:\n        props.location.data.row.assignedMobitelOfficer.name,\n      workScope: props.location.data.row.workScope,\n      assignedSubcon: props.location.data.row.assignedSubcon.companyName,\n      taskassignedSubconOfficer:\n        props.location.data.row.taskassignedSubconOfficer,\n      taskassignedMobileNo: props.location.data.row.taskassignedMobileNo,\n    });\n  }, []);\n\n  const downloadHandover = (e) => {\n    //Create Downloadable excel file\n    var workbook = XLSX.utils.book_new();\n    var aoa_projects = [];\n\n    //get selected projects\n    //console.log(props.location.data)\n\n    var worksheetData = [];\n\n    worksheetData.push(props.location.data.row.properties);\n    worksheetData.unshift(props.location.data.row.headerProperties);\n    //console.log(worksheetData)\n    var ws = XLSX.utils.aoa_to_sheet(worksheetData);\n    XLSX.utils.book_append_sheet(workbook, ws, \"HO Details\");\n\n    XLSX.writeFile(\n      workbook,\n      props.location.data.row.siteID + \"_Handover details.xlsx\"\n    );\n    // console.log(workbook)\n  };\n\n  const smsFetch = async (mobileNo) => {\n    //console.log(users.filter((obj) => (obj._id === form.assignedMobitelOfficer))[0].mobileNo)\n    const url =\n      \"https://msmsenterpriseapi.mobitel.lk/EnterpriseSMSV3/esmsproxyURL.php\";\n    const Body = {\n      username: \"smsdigisvc_sci\",\n      password: \"Sci@#25\",\n      from: \"Mobitel-PMS\",\n      to: \"0\" + mobileNo,\n      text: \"Task ID: \" + form.taskRef + \" task is completed now.\",\n      mesageType: 0,\n    };\n    //console.log(JSON.parse(localStorage.getItem(\"user\")))\n    const requestOptions = {\n      method: \"POST\",\n      body: JSON.stringify(Body),\n      mode: \"no-cors\",\n    };\n    const response = await fetch(url, requestOptions);\n    // console.log(response)\n  };\n\n  const onAccept = (e) => {\n    e.preventDefault();\n\n    const newErrors = findFormErrors();\n    // Conditional logic:\n    if (Object.keys(newErrors).length > 0) {\n      // We got errors!\n      setErrors(newErrors);\n    } else {\n      const taskObject = {\n        taskStatus: \"Task completed\",\n      };\n\n      // console.log(form.assignedMobitelOfficer)\n      // console.log(\"Jana\")\n      axiosInstance\n        .put(\n          \"projonline/update/\" + props.location.data.row._id,\n          {\n            taskObject,\n            taskHistory: {\n              taskStatus: \"Task completed\",\n              comment: form.taskCommencedComment,\n            },\n          },\n          {\n            headers: {\n              token:\n                \"Bearer \" +\n                JSON.parse(localStorage.getItem(\"user\")).accessToken,\n            },\n          }\n        )\n        .then((res) => {\n          // console.log(res.data)\n\n          setOpenDialog(true);\n          smsFetch(form.taskassignedMobileNo);\n          setTimeout(() => {\n            setAlart(res.data.alart);\n            setSeverity(res.data.severity);\n            setOpen(true);\n          }, 2000);\n\n          setTimeout(() => {\n            setOpenDialog(false);\n            setOpen(false);\n            props.history.push({ pathname: \"/completeNewTasks\" });\n          }, 5000);\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    }\n  };\n\n  const handleClose = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      {/* Content Wrapper. Contains page content */}\n      <div className=\"content-wrapper\">\n        {/* Content Header (Page header) */}\n        <div className=\"content-header\">\n          <section className=\"content-header\">\n            <div className=\"container-fluid\">\n              <div>\n                <h1>Complete Task ID: {form.taskRef} </h1>\n              </div>\n            </div>\n            {/* /.container-fluid */}\n          </section>\n        </div>\n        {/* /.content-header */}\n        {/* Main content */}\n        <section className=\"content\">\n          <div className=\"container-fluid\">\n            <Form>\n              <Row>\n                <Form.Group as={Col}>\n                  <Form.Label>Site ID</Form.Label>\n                  <Form.Control\n                    disabled\n                    value={form.siteID}\n                    className=\"col-md-9\"\n                    type=\"text\"\n                    placeholder=\"Enter site ID\"\n                    isInvalid={!!errors.siteID}\n                  />\n                  <Form.Control.Feedback type=\"invalid\">\n                    {errors.siteID}\n                  </Form.Control.Feedback>\n                </Form.Group>\n\n                <Form.Group as={Col}>\n                  <Form.Label>Site Name</Form.Label>\n                  <Form.Control\n                    disabled\n                    value={form.siteName}\n                    type=\"text\"\n                    placeholder=\"Enter site Name\"\n                    isInvalid={!!errors.siteName}\n                  />\n                  <Form.Control.Feedback type=\"invalid\">\n                    {errors.siteName}\n                  </Form.Control.Feedback>\n                </Form.Group>\n\n                <Form.Group as={Col} controlId=\"\"></Form.Group>\n              </Row>\n\n              <Row className=\"mb-3\">\n                <Form.Group as={Col}>\n                  <Form.Label>Planned Work Commencement Date</Form.Label>\n                  <Form.Control\n                    disabled\n                    value={form.plannedTaskStartDate}\n                    className=\"col-md-9\"\n                    type=\"date\"\n                    isInvalid={!!errors.plannedTaskStartDate}\n                  />\n                  <Form.Control.Feedback type=\"invalid\">\n                    {errors.plannedTaskStartDate}\n                  </Form.Control.Feedback>\n                </Form.Group>\n\n                <Form.Group as={Col}>\n                  <Form.Label>Actual Work Commencement Date</Form.Label>\n                  <Form.Control\n                    disabled\n                    value={form.actualTaskStartDate}\n                    className=\"col-md-9\"\n                    type=\"date\"\n                    isInvalid={!!errors.actualTaskStartDate}\n                  />\n                  <Form.Control.Feedback type=\"invalid\">\n                    {errors.actualTaskStartDate}\n                  </Form.Control.Feedback>\n                </Form.Group>\n\n                <Form.Group as={Col}>\n                  <Form.Label>Planned Work Completion Date</Form.Label>\n                  <Form.Control\n                    disabled\n                    value={form.targetTaskComDate}\n                    className=\"col-md-9\"\n                    type=\"date\"\n                    isInvalid={!!errors.targetTaskComDate}\n                  />\n                  <Form.Control.Feedback type=\"invalid\">\n                    {errors.targetTaskComDate}\n                  </Form.Control.Feedback>\n                </Form.Group>\n              </Row>\n              <Row>\n                <Form.Group as={Col}>\n                  <Form.Label>Task Assigned Division</Form.Label>\n                  <Form.Control\n                    disabled\n                    value={form.taskAssignedDiv}\n                    as=\"select\"\n                    defaultValue=\"Choose...\"\n                    isInvalid={!!errors.taskAssignedDiv}\n                  >\n                    <option>Choose...</option>\n                    <option>Project_Radio</option>\n                    <option>Project_Core</option>\n                    <option>Project_TX</option>\n                    <option>Project_IBS</option>\n                    <option>Project_WiFi</option>\n                  </Form.Control>\n                  <Form.Control.Feedback type=\"invalid\">\n                    {errors.taskAssignedDiv}\n                  </Form.Control.Feedback>\n                </Form.Group>\n                <Form.Group as={Col}>\n                  <Form.Label>Assigned Mobitel Officer</Form.Label>\n                  <Form.Control\n                    disabled\n                    as=\"select\"\n                    value={form.assignedMobitelOfficer}\n                    defaultValue=\"Choose...\"\n                    isInvalid={!!errors.assignedMobitelOfficer}\n                  >\n                    <option>Choose...</option>\n                    {users.map((opt) => (\n                      <option value={opt._id}>{opt.name}</option>\n                    ))}\n                  </Form.Control>\n                  <Form.Control.Feedback type=\"invalid\">\n                    {errors.assignedMobitelOfficer}\n                  </Form.Control.Feedback>\n                </Form.Group>\n\n                <Form.Group as={Col}></Form.Group>\n              </Row>\n\n              <Row>\n                <Form.Group as={Col}>\n                  <Form.Label>High level work scope</Form.Label>\n                  <Form.Control\n                    disabled\n                    value={form.workScope}\n                    as=\"textarea\"\n                    rows={2}\n                    placeholder=\"\"\n                    isInvalid={!!errors.workScope}\n                  />\n                  <Form.Control.Feedback type=\"invalid\">\n                    {errors.workScope}\n                  </Form.Control.Feedback>\n                </Form.Group>\n              </Row>\n\n              <Row className=\"mb-3\">\n                <Form.Group as={Col}>\n                  <Form.Label>Assigned subcontractor</Form.Label>\n                  <Form.Control\n                    disabled\n                    value={form.assignedSubcon}\n                    as=\"select\"\n                    defaultValue=\"Choose...\"\n                    isInvalid={!!errors.assignedSubcon}\n                  >\n                    <option>Choose...</option>\n                    {companies.map((opt) => (\n                      <option value={opt._id}>{opt.companyName}</option>\n                    ))}\n                  </Form.Control>\n                  <Form.Control.Feedback type=\"invalid\">\n                    {errors.assignedSubcon}\n                  </Form.Control.Feedback>\n                </Form.Group>\n\n                <Form.Group as={Col}>\n                  <Form.Label>Handover Details</Form.Label>\n                  <br />\n                  <Button\n                    onClick={downloadHandover}\n                    variant=\"primary\"\n                    type=\"button\"\n                  >\n                    Click to Download\n                  </Button>\n                </Form.Group>\n\n                <Form.Group as={Col}></Form.Group>\n              </Row>\n\n              <Row>\n                <Form.Group as={Col}>\n                  <Form.Label>Task Assigned Subcon Officer</Form.Label>\n                  <Form.Control\n                    disabled\n                    onChange={(e) =>\n                      setField(\"taskassignedSubconOfficer\", e.target.value)\n                    }\n                    value={form.taskassignedSubconOfficer}\n                    className=\"col-md-9\"\n                    type=\"text\"\n                    placeholder=\"Enter name\"\n                    isInvalid={!!errors.taskassignedSubconOfficer}\n                  />\n                  <Form.Control.Feedback type=\"invalid\">\n                    {errors.taskassignedSubconOfficer}\n                  </Form.Control.Feedback>\n                </Form.Group>\n\n                <Form.Group as={Col}>\n                  <Form.Label>Mobile Number</Form.Label>\n                  <Form.Control\n                    disabled\n                    onChange={(e) =>\n                      setField(\"taskassignedMobileNo\", e.target.value)\n                    }\n                    className=\"col-md-9\"\n                    value={form.taskassignedMobileNo}\n                    type=\"number\"\n                    placeholder=\"Enter mobile number\"\n                    isInvalid={!!errors.taskassignedMobileNo}\n                  />\n                  <Form.Control.Feedback type=\"invalid\">\n                    {errors.taskassignedMobileNo}\n                  </Form.Control.Feedback>\n                </Form.Group>\n\n                <Form.Group as={Col}></Form.Group>\n              </Row>\n              <Row>\n                <Form.Group as={Col}>\n                  <Form.Label>Comments</Form.Label>\n                  <Form.Control\n                    onChange={(e) =>\n                      setField(\"taskCommencedComment\", e.target.value)\n                    }\n                    as=\"textarea\"\n                    rows={2}\n                    value={form.taskCommencedComment}\n                    placeholder=\"Enter your comments\"\n                    isInvalid={!!errors.taskCommencedComment}\n                  />\n                  <Form.Control.Feedback type=\"invalid\">\n                    {errors.taskCommencedComment}\n                  </Form.Control.Feedback>\n                </Form.Group>\n              </Row>\n\n              <Button variant=\"primary\" onClick={onAccept}>\n                Task complete\n              </Button>\n            </Form>\n          </div>\n          {/* /.container-fluid */}\n        </section>\n        {/* /.content */}\n      </div>\n\n      <Snackbar\n        open={open}\n        autoHideDuration={6000}\n        onClose={handleClose}\n        anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n      >\n        <Alert onClose={handleClose} severity={severity} sx={{ width: \"100%\" }}>\n          {alart}\n        </Alert>\n      </Snackbar>\n      <Dialog\n        open={openDialog}\n        onClose={handleClose}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogContent>\n          <Box sx={{ display: \"flex\" }}>\n            <CircularProgress />\n          </Box>\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n}\n\nexport default withRouter(CompleteNewSpecificTaskBody);\n"],"names":["Alert","React","props","ref","elevation","variant","withRouter","useState","users","setUsers","companies","setCompanies","severity","setSeverity","alart","setAlart","axiosInstance","axios","baseURL","process","form","setForm","errors","setErrors","open","setOpen","openDialog","setOpenDialog","setField","field","value","useEffect","name","location","data","row","assignedMobitelOfficer","companyName","assignedSubcon","taskRef","siteID","siteName","plannedTaskStartDate","split","actualTaskStartDate","taskHistory","find","x","taskStatus","performedDate","targetTaskComDate","taskAssignedDiv","workScope","taskassignedSubconOfficer","taskassignedMobileNo","smsFetch","mobileNo","Body","username","password","from","to","text","mesageType","requestOptions","method","body","JSON","stringify","mode","fetch","handleClose","event","reason","className","as","Col","disabled","type","placeholder","isInvalid","controlId","defaultValue","map","opt","_id","rows","onClick","e","workbook","XLSX","worksheetData","push","properties","unshift","headerProperties","ws","onChange","target","taskCommencedComment","preventDefault","newErrors","findFormErrors","Object","keys","length","put","taskObject","comment","headers","token","parse","localStorage","getItem","accessToken","then","res","setTimeout","history","pathname","catch","error","console","log","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","sx","width","display"],"sourceRoot":""}