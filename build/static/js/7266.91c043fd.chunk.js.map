{"version":3,"file":"static/js/7266.91c043fd.chunk.js","mappings":"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","sources":["components/ApproveHandoverChangesBody.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { DataGrid, GridToolbar } from \"@mui/x-data-grid\";\r\nimport style from \"./style.css\";\r\nimport { Select, MenuItem } from \"@mui/material\";\r\nimport { Button, Modal, Form, Row, Col } from \"react-bootstrap\";\r\nimport Snackbar from \"@mui/material/Snackbar\";\r\nimport MuiAlert from \"@mui/material/Alert\";\r\nimport Dialog from \"@mui/material/Dialog\";\r\nimport Box from \"@mui/material/Box\";\r\nimport DialogContent from \"@mui/material/DialogContent\";\r\nimport CircularProgress from \"@mui/material/CircularProgress\";\r\n\r\nconst Alert = React.forwardRef(function Alert(props, ref) {\r\n  return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\r\n});\r\n\r\nfunction ApproveHandoverChangesBody() {\r\n  let [items, setItems] = useState([]);\r\n  let [item, setItem] = useState([]);\r\n  let [properties, setProperties] = useState([]);\r\n  let [headerProperties, setHeaderProperties] = useState([]);\r\n  let [open, setOpen] = useState(false);\r\n  let [severity, setSeverity] = useState(\"\");\r\n  let [alart, setAlart] = useState(\"\");\r\n  let [comment, setComment] = useState(\"\");\r\n  let [errors, setErrors] = useState({});\r\n  let [openDialog, setOpenDialog] = useState(false);\r\n\r\n  const handleChange = (e, index) => {\r\n    setProperties({ ...properties, [index]: e.target.value });\r\n  };\r\n\r\n  const [show, setShow] = useState(false);\r\n\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = (row) => {\r\n    setItem(row);\r\n    setProperties(row.newProperties);\r\n    setHeaderProperties(row.headerProperties);\r\n    setComment(\"\");\r\n    setShow(true);\r\n  };\r\n  const axiosInstance = axios.create({\r\n    baseURL: process.env.REACT_APP_BACKEND_URL,\r\n  });\r\n\r\n  useEffect(() => {\r\n    getData();\r\n  }, []);\r\n\r\n  const findFormErrors = () => {\r\n    const newErrors = {};\r\n    // name errors\r\n    if (!comment || comment === \"\") newErrors.comment = \"cannot be blank!\";\r\n    console.log(newErrors);\r\n    return newErrors;\r\n  };\r\n\r\n  const getData = () => {\r\n    setOpenDialog(true);\r\n    axiosInstance\r\n      .get(\"projonline/pendinghandoverchanges\", {\r\n        headers: {\r\n          token:\r\n            \"Bearer \" + JSON.parse(localStorage.getItem(\"user\")).accessToken,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        //console.log(res.data)\r\n        setItems(res.data);\r\n        setOpenDialog(false);\r\n        //console.log(res.data)\r\n        return;\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const alertClose = (event, reason) => {\r\n    if (reason === \"clickaway\") {\r\n      return;\r\n    }\r\n\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    const newErrors = findFormErrors();\r\n    if (Object.keys(newErrors).length > 0) {\r\n      // We got errors!\r\n      setErrors(newErrors);\r\n    } else {\r\n      var changedProperties = Object.values(properties);\r\n\r\n      axiosInstance\r\n        .put(\r\n          `projonline/updatehandoverchanges/${item._id}`,\r\n          {\r\n            approveComment: comment,\r\n            status: \"Approved\",\r\n          },\r\n          {\r\n            headers: {\r\n              token:\r\n                \"Bearer \" +\r\n                JSON.parse(localStorage.getItem(\"user\")).accessToken,\r\n            },\r\n          }\r\n        )\r\n        .then((res) => {\r\n          axiosInstance\r\n            .put(\r\n              `projonline/update/${item.taskRefID}`,\r\n              {\r\n                taskObject: {\r\n                  properties: changedProperties,\r\n                  taskStatus: item.taskStatus,\r\n                },\r\n                taskHistory: {\r\n                  taskStatus: item.taskStatus\r\n                    ? `${item.taskStatus} approved`\r\n                    : \"Handover change approved\",\r\n                  comment: comment,\r\n                },\r\n              },\r\n              {\r\n                headers: {\r\n                  token:\r\n                    \"Bearer \" +\r\n                    JSON.parse(localStorage.getItem(\"user\")).accessToken,\r\n                },\r\n              }\r\n            )\r\n            .then((res) => {\r\n              setOpen(true);\r\n              setSeverity(\"success\");\r\n              setAlart(\r\n                item.taskStatus\r\n                  ? `${item.taskStatus} approved`\r\n                  : \"Handover change approved\"\r\n              );\r\n              setShow(false);\r\n              getData();\r\n              return;\r\n            })\r\n            .catch((err) => {\r\n              console.log(err);\r\n              setOpen(true);\r\n              setSeverity(\"error\");\r\n              setAlart(\"Error occured\");\r\n            });\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  };\r\n\r\n  const handleDeny = () => {\r\n    const newErrors = findFormErrors();\r\n    if (Object.keys(newErrors).length > 0) {\r\n      // We got errors!\r\n      setErrors(newErrors);\r\n    } else {\r\n      axiosInstance\r\n        .put(\r\n          `projonline/updatehandoverchanges/${item._id}`,\r\n          {\r\n            approveComment: comment,\r\n            status: \"Deny\",\r\n          },\r\n          {\r\n            headers: {\r\n              token:\r\n                \"Bearer \" +\r\n                JSON.parse(localStorage.getItem(\"user\")).accessToken,\r\n            },\r\n          }\r\n        )\r\n        .then((res) => {\r\n          axiosInstance\r\n            .put(\r\n              `projonline/update/${item.taskRefID}`,\r\n              {\r\n                taskObject: {},\r\n                taskHistory: {\r\n                  taskStatus: \"Handover change denied\",\r\n                  comment: comment,\r\n                },\r\n              },\r\n              {\r\n                headers: {\r\n                  token:\r\n                    \"Bearer \" +\r\n                    JSON.parse(localStorage.getItem(\"user\")).accessToken,\r\n                },\r\n              }\r\n            )\r\n            .then((res) => {\r\n              setOpen(true);\r\n              setSeverity(\"success\");\r\n              setAlart(\"Handover Denied\");\r\n              setShow(false);\r\n              getData();\r\n              return;\r\n            })\r\n            .catch((err) => {\r\n              console.log(err);\r\n              setOpen(true);\r\n              setSeverity(\"error\");\r\n              setAlart(\"Error occured\");\r\n            });\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  };\r\n\r\n  const smsFetch = async (mobileNo, taskRef) => {\r\n    //console.log(users.filter((obj) => (obj._id === form.assignedMobitelOfficer))[0].mobileNo)\r\n    const url =\r\n      \"https://msmsenterpriseapi.mobitel.lk/EnterpriseSMSV3/esmsproxyURL.php\";\r\n    const Body = {\r\n      username: \"smsdigisvc_sci\",\r\n      password: \"Sci@#25\",\r\n      from: \"Mobitel-PMS\",\r\n      to: \"0\" + mobileNo,\r\n      text:\r\n        \"Task ID:\" + taskRef + \" task is commenced now and assigned to you.\",\r\n      mesageType: 0,\r\n    };\r\n    //console.log(JSON.parse(localStorage.getItem(\"user\")))\r\n    const requestOptions = {\r\n      method: \"POST\",\r\n      body: JSON.stringify(Body),\r\n      mode: \"no-cors\",\r\n    };\r\n    try {\r\n      const response = await fetch(url, requestOptions);\r\n      // console.log(response)\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const columns = [\r\n    { field: \"taskRef\", headerName: \"TaskID\", width: 250 },\r\n    { field: \"siteID\", headerName: \"SiteID\", width: 150 },\r\n    { field: \"siteName\", headerName: \"Site Name\", width: 175 },\r\n    { field: \"project\", headerName: \"Project\", width: 250 },\r\n    { field: \"subProject\", headerName: \"Sub Project\", width: 250 },\r\n    {\r\n      field: \"Approve handover changes\",\r\n      width: 250,\r\n      align: \"center\",\r\n      renderCell: (cellValues) => {\r\n        return (\r\n          <Button\r\n            variant=\"primary\"\r\n            style={{ width: 100 }}\r\n            onClick={() => handleShow(cellValues.row)}\r\n          >\r\n            To Approve\r\n          </Button>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      {/* Content Wrapper. Contains page content */}\r\n      <div className=\"content-wrapper\">\r\n        <div className=\"content-header\">\r\n          <section className=\"content-header\">\r\n            <div className=\"container-fluid\">\r\n              <div className=\"row mb-2\">\r\n                <div className=\"col-sm-6\">\r\n                  <h1>Approve Handover Changes</h1>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            {/* /.container-fluid */}\r\n          </section>\r\n        </div>\r\n\r\n        <div style={{ height: 610, width: \"100%\" }}>\r\n          <DataGrid\r\n            getRowId={(item) => item._id}\r\n            rows={items}\r\n            columns={columns}\r\n            pageSize={15}\r\n            rowsPerPageOptions={[15]}\r\n            rowHeight={30}\r\n            headerHeight={40}\r\n            components={{ Toolbar: GridToolbar }}\r\n          />\r\n        </div>\r\n      </div>\r\n      <Modal show={show} onHide={handleClose} size=\"lg\" animation={false}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Edit Handover</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Form onSubmit={handleClose}>\r\n            {headerProperties?.map((headerProperty, index) => {\r\n              if (index < 3) {\r\n                return (\r\n                  <Row>\r\n                    <Form.Group className=\"m-2\" controlId=\"refid\" as={Col}>\r\n                      <Form.Label>{headerProperty}</Form.Label>\r\n                      <Form.Control\r\n                        className=\"mr-1 ml-1\"\r\n                        value={properties[index]}\r\n                        onChange={(e) => handleChange(e, index)}\r\n                        type=\"text\"\r\n                        readOnly\r\n                      />\r\n                    </Form.Group>\r\n                  </Row>\r\n                );\r\n              } else {\r\n                return (\r\n                  <Row>\r\n                    <Form.Group className=\"m-2\" controlId=\"refid\" as={Col}>\r\n                      <Form.Label>{headerProperty}</Form.Label>\r\n                      <div className=\"d-flex flex-row\">\r\n                        <Form.Control\r\n                          className=\"mr-1 ml-1\"\r\n                          value={item.existingProperties[index]}\r\n                          type=\"text\"\r\n                          readOnly\r\n                        />\r\n                        <Form.Control\r\n                          className={`mr-1 ml-1 ${\r\n                            item.existingProperties[index] != properties[index]\r\n                              ? \"text-danger\"\r\n                              : \"\"\r\n                          }`}\r\n                          value={properties[index]}\r\n                          onChange={(e) => handleChange(e, index)}\r\n                          type=\"text\"\r\n                          readOnly\r\n                        />\r\n                      </div>\r\n                    </Form.Group>\r\n                  </Row>\r\n                );\r\n              }\r\n            })}\r\n            {item.taskStatus && (\r\n              <Row>\r\n                <Form.Group className=\"m-3\" controlId=\"refid\" as={Col}>\r\n                  <Form.Label>Requested Status</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    rows={3}\r\n                    required\r\n                    value={item.taskStatus}\r\n                    readonly\r\n                  />\r\n                </Form.Group>\r\n              </Row>\r\n            )}\r\n            <Row>\r\n              <Form.Group className=\"m-3\" controlId=\"refid\" as={Col}>\r\n                <Form.Label>Reason for the change request</Form.Label>\r\n                <Form.Control\r\n                  as=\"textarea\"\r\n                  rows={3}\r\n                  required\r\n                  value={item.comment}\r\n                  readonly\r\n                />\r\n              </Form.Group>\r\n            </Row>\r\n            <Row>\r\n              <Form.Group className=\"m-3\" controlId=\"refid\" as={Col}>\r\n                <Form.Label>Approval Comment</Form.Label>\r\n                <Form.Control\r\n                  as=\"textarea\"\r\n                  value={comment}\r\n                  rows={3}\r\n                  required\r\n                  onChange={(e) => setComment(e.target.value)}\r\n                  isInvalid={!!errors.comment}\r\n                />\r\n                <Form.Control.Feedback type=\"invalid\">\r\n                  Please provide comment\r\n                </Form.Control.Feedback>\r\n              </Form.Group>\r\n            </Row>\r\n          </Form>\r\n        </Modal.Body>\r\n\r\n        <Modal.Footer>\r\n          <Button variant=\"danger\" onClick={handleDeny}>\r\n            Deny\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={handleSubmit}>\r\n            Approve\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n\r\n      <Snackbar\r\n        open={open}\r\n        autoHideDuration={6000}\r\n        onClose={alertClose}\r\n        anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n      >\r\n        <Alert onClose={alertClose} severity={severity} sx={{ width: \"100%\" }}>\r\n          {alart}\r\n        </Alert>\r\n      </Snackbar>\r\n\r\n      <Dialog\r\n        open={openDialog}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogContent>\r\n          <Box sx={{ display: \"flex\" }}>\r\n            <CircularProgress />\r\n          </Box>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withRouter(ApproveHandoverChangesBody);\r\n"],"names":["Alert","React","props","ref","elevation","variant","withRouter","useState","items","setItems","item","setItem","properties","setProperties","headerProperties","setHeaderProperties","open","setOpen","severity","setSeverity","alart","setAlart","comment","setComment","errors","setErrors","openDialog","setOpenDialog","handleChange","e","index","target","value","show","setShow","handleClose","axiosInstance","axios","baseURL","process","useEffect","getData","findFormErrors","newErrors","console","log","get","headers","token","JSON","parse","localStorage","getItem","accessToken","then","res","data","catch","err","alertClose","event","reason","columns","field","headerName","width","align","renderCell","cellValues","style","onClick","row","newProperties","className","height","getRowId","_id","rows","pageSize","rowsPerPageOptions","rowHeight","headerHeight","components","Toolbar","GridToolbar","onHide","size","animation","closeButton","onSubmit","map","headerProperty","controlId","as","Col","onChange","type","readOnly","existingProperties","taskStatus","required","readonly","isInvalid","Object","keys","length","put","approveComment","status","taskRefID","taskObject","taskHistory","changedProperties","values","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","sx","display"],"sourceRoot":""}