(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[4025],{798:function(e,s,n){"use strict";n.r(s);var t=n(4942),a=n(29439),i=n(1413),o=n(72791),c=n(79271),l=n(74569),r=n.n(l),d=n(16149),m=n(89743),u=n(2677),h=n(43360),j=n(34575),x=n(19658),Z=(n(58484),n(29818)),f=n(64554),p=n(39157),v=n(13239),C=n(80184),b=o.forwardRef((function(e,s){return(0,C.jsx)(x.Z,(0,i.Z)({elevation:6,ref:s,variant:"filled"},e))}));s.default=(0,c.EN)((function(e){var s=(0,o.useState)([]),n=(0,a.Z)(s,2),c=n[0],l=n[1],x=(0,o.useState)([]),k=(0,a.Z)(x,2),g=(k[0],k[1]),y=(0,o.useState)(""),N=(0,a.Z)(y,2),S=N[0],w=N[1],D=(0,o.useState)(""),I=(0,a.Z)(D,2),O=I[0],G=I[1],T=r().create({baseURL:"http://ec2-65-2-5-82.ap-south-1.compute.amazonaws.com/"}),A=(0,o.useState)({}),M=(0,a.Z)(A,2),_=M[0],F=M[1],L=(0,o.useState)({}),P=(0,a.Z)(L,2),R=P[0],E=P[1],z=(0,o.useState)(!1),B=(0,a.Z)(z,2),H=B[0],V=B[1],J=(0,o.useState)(!1),U=(0,a.Z)(J,2),W=U[0],X=U[1];(0,o.useEffect)((function(){l([{name:e.location.data.row.assignedMobitelOfficer.name}]),g([{companyName:e.location.data.row.assignedSubcon.companyName}]),F({taskRef:e.location.data.row.taskRef,siteID:e.location.data.row.siteID,siteName:e.location.data.row.siteName,taskAssignedDiv:e.location.data.row.taskAssignedDiv,assignedMobitelOfficer:e.location.data.row.assignedMobitelOfficer.name,assignedSubcon:e.location.data.row.assignedSubcon.companyName})}),[]);var q=function(e,s){"clickaway"!==s&&V(!1)};return(0,C.jsxs)("div",{children:[(0,C.jsxs)("div",{className:"content-wrapper",children:[(0,C.jsx)("div",{className:"content-header",children:(0,C.jsx)("section",{className:"content-header",children:(0,C.jsx)("div",{className:"container-fluid",children:(0,C.jsx)("div",{children:(0,C.jsxs)("h1",{children:["Task ID: ",_.taskRef," "]})})})})}),(0,C.jsx)("section",{className:"content",children:(0,C.jsx)("div",{className:"container-fluid",children:(0,C.jsxs)(d.Z,{children:[(0,C.jsxs)(m.Z,{children:[(0,C.jsxs)(d.Z.Group,{as:u.Z,sm:3,children:[(0,C.jsx)(d.Z.Label,{children:"Site ID"}),(0,C.jsx)(d.Z.Control,{disabled:!0,value:_.siteID,className:"col-md-9",type:"text",placeholder:"Enter site ID",isInvalid:!!R.siteID}),(0,C.jsx)(d.Z.Control.Feedback,{type:"invalid",children:R.siteID})]}),(0,C.jsxs)(d.Z.Group,{as:u.Z,sm:3,children:[(0,C.jsx)(d.Z.Label,{children:"Site Name"}),(0,C.jsx)(d.Z.Control,{disabled:!0,value:_.siteName,type:"text",placeholder:"Enter site Name",isInvalid:!!R.siteName}),(0,C.jsx)(d.Z.Control.Feedback,{type:"invalid",children:R.siteName})]}),(0,C.jsx)(d.Z.Group,{as:u.Z,sm:3})]}),(0,C.jsxs)(m.Z,{children:[(0,C.jsxs)(d.Z.Group,{as:u.Z,sm:3,children:[(0,C.jsx)(d.Z.Label,{children:"Task Assigned Division"}),(0,C.jsxs)(d.Z.Control,{disabled:!0,value:_.taskAssignedDiv,as:"select",defaultValue:"Choose...",isInvalid:!!R.taskAssignedDiv,children:[(0,C.jsx)("option",{children:"Choose..."}),(0,C.jsx)("option",{children:"Project_Radio"}),(0,C.jsx)("option",{children:"Project_Core"}),(0,C.jsx)("option",{children:"Project_TX"}),(0,C.jsx)("option",{children:"Project_IBS"}),(0,C.jsx)("option",{children:"Project_WiFi"})]}),(0,C.jsx)(d.Z.Control.Feedback,{type:"invalid",children:R.taskAssignedDiv}),(0,C.jsx)(d.Z.Group,{as:u.Z,sm:3})]}),(0,C.jsxs)(d.Z.Group,{as:u.Z,sm:3,children:[(0,C.jsx)(d.Z.Label,{children:"Assigned Mobitel Officer"}),(0,C.jsxs)(d.Z.Control,{disabled:!0,as:"select",value:_.assignedMobitelOfficer,defaultValue:"Choose...",isInvalid:!!R.assignedMobitelOfficer,children:[(0,C.jsx)("option",{children:"Choose..."}),c.map((function(e){return(0,C.jsx)("option",{value:e._id,children:e.name})}))]}),(0,C.jsx)(d.Z.Control.Feedback,{type:"invalid",children:R.assignedMobitelOfficer})]}),(0,C.jsx)(d.Z.Group,{as:u.Z})]}),(0,C.jsx)(m.Z,{className:"mb-3"}),(0,C.jsx)(m.Z,{children:(0,C.jsxs)(d.Z.Group,{as:u.Z,sm:6,children:[(0,C.jsx)(d.Z.Label,{children:"Comments"}),(0,C.jsx)(d.Z.Control,{onChange:function(e){return s="taskCommencedComment",n=e.target.value,F((0,i.Z)((0,i.Z)({},_),{},(0,t.Z)({},s,n))),void(R[s]&&E((0,i.Z)((0,i.Z)({},R),{},(0,t.Z)({},s,null))));var s,n},as:"textarea",rows:2,value:_.taskCommencedComment,placeholder:"Enter your comments or actual commissioned date if not commissioned today",isInvalid:!!R.taskCommencedComment}),(0,C.jsx)(d.Z.Control.Feedback,{type:"invalid",children:R.taskCommencedComment})]})}),(0,C.jsx)(m.Z,{}),(0,C.jsx)(h.Z,{variant:"primary",onClick:function(s){s.preventDefault();var n=function(){var e=_.taskCommencedComment,s={};return e&&""!==e||(s.taskCommencedComment="cannot be blank!   Note-Please comment the actual commissioning date if not commissioned today "),s}();if(Object.keys(n).length>0)E(n);else{T.put("projonline/update/"+e.location.data.row._id,{taskObject:{comStatus:"Site Commissioned"},taskHistory:{comStatus:"Site Commissioned",comment:_.taskCommencedComment}},{headers:{token:"Bearer "+JSON.parse(localStorage.getItem("user")).accessToken}}).then((function(s){X(!0),setTimeout((function(){G(s.data.alart),w(s.data.severity),V(!0)}),2e3),setTimeout((function(){X(!1),V(!1),e.history.push({pathname:"/pendingCommissioningTask"})}),5e3)})).catch((function(e){console.log(e)}))}},children:"Commissioning Task completed"})]})})})]}),(0,C.jsx)(j.Z,{open:H,autoHideDuration:6e3,onClose:q,anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,C.jsx)(b,{onClose:q,severity:S,sx:{width:"100%"},children:O})}),(0,C.jsx)(Z.Z,{open:W,onClose:q,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:(0,C.jsx)(p.Z,{children:(0,C.jsx)(f.Z,{sx:{display:"flex"},children:(0,C.jsx)(v.Z,{})})})})]})}))},55382:function(){},72095:function(){},61219:function(){}}]);
//# sourceMappingURL=4025.6ab09240.chunk.js.map