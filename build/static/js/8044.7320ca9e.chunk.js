(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[8044],{61301:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>w});var o=a(72791),i=a(79271),r=a(74569),n=a.n(r),l=a(3986),d=(a(2468),a(24518)),s=a(47022),c=a(89743),h=a(2677),p=a(39474),u=a(16149),m=a(34575),x=a(19658),v=a(58484),b=a.n(v),S=a(64554),g=a(39157),f=a(13239),Z=a(29818),C=a(80184);const y=o.forwardRef((function(e,t){return(0,C.jsx)(x.Z,{elevation:6,ref:t,variant:"filled",...e})}));const w=(0,i.EN)((function(e){let[t,a]=(0,o.useState)([]),[i,r]=(0,o.useState)([]),[x,v]=(0,o.useState)(!1),[w,z]=(0,o.useState)(""),[j,R]=(0,o.useState)(""),[k,I]=(0,o.useState)(!0),[N,T]=(0,o.useState)({}),[V,F]=(0,o.useState)(!1),[E,B]=(0,o.useState)(""),[L,P]=(0,o.useState)(""),[M,D]=(0,o.useState)(!1);const W=()=>({}),O=n().create({baseURL:"http://35.78.68.113:8072/"});(0,o.useEffect)((()=>{_()}),[]);const _=(e,t)=>{D(!0),O.get("projonline/allRateCards",{headers:{token:"Bearer "+JSON.parse(localStorage.getItem("user")).accessToken}}).then((e=>{r(e.data),D(!1)})).catch((e=>{console.log(e)}))},G=[{field:"rateCardDiv",headerName:"Division",width:250},{field:"rateCardSubcon",headerName:"Subcontractor",valueGetter:e=>e.row.rateCardSubcon.companyName,width:200},{field:"rateCardValidFrom",headerName:"Rate Card Valid From",valueGetter:e=>e.row.rateCardValidFrom.split("T")[0],width:250},{field:"rateCardValidTo",headerName:"Rate Card Valid To",valueGetter:e=>e.row.rateCardValidTo.split("T")[0],width:250},{field:"To Edit",width:150,renderCell:e=>(0,C.jsx)(d.Z,{variant:"contained",color:"primary",onClick:t=>{return o=e.row,v(!0),a(o),z(o.rateCardValidFrom.split("T")[0]),R(o.rateCardValidTo.split("T")[0]),void I(o.activeStatus);var o},children:"To Edit"})},{field:"Download",width:150,renderCell:e=>(0,C.jsx)(d.Z,{variant:"contained",color:"primary",onClick:t=>(e=>{var t=b().utils.book_new(),a=[];e.rateCardItems.forEach((e=>{var t=[e.itemNo,e.itemDiscreption,e.erpCode,e.itemRate,e.itemUom];a.unshift(t)})),a.unshift(["itemNo","itemDiscreption","erpCode","itemRate","itemUom"]);var o=b().utils.aoa_to_sheet(a);b().utils.book_append_sheet(t,o,"Rate Card Details"),b().writeFile(t,"Rate Card.xlsx")})(e.row),children:"Download"})}];return(0,C.jsxs)("div",{children:[(0,C.jsxs)("div",{className:"content-wrapper",children:[(0,C.jsx)("div",{className:"content-header",children:(0,C.jsx)("section",{className:"content-header",children:(0,C.jsx)("div",{className:"container-fluid",children:(0,C.jsx)("div",{children:(0,C.jsx)("div",{children:(0,C.jsx)(s.Z,{children:(0,C.jsxs)(c.Z,{children:[(0,C.jsx)(h.Z,{xs:2,children:(0,C.jsx)("h1",{children:"All Rate Cards"})}),(0,C.jsx)(h.Z,{xs:4}),(0,C.jsx)(h.Z,{children:(0,C.jsx)("div",{className:"vr"})}),(0,C.jsx)(h.Z,{children:(0,C.jsx)(d.Z,{variant:"contained",color:"primary",onClick:t=>e.history.push({pathname:"/addRateCard"}),children:"Add a new Rate Card"})})]})})})})})})}),(0,C.jsx)("div",{style:{height:610,width:"100%"},children:(0,C.jsx)(l._$r,{getRowId:e=>e._id,rows:i,columns:G,pageSize:15,rowsPerPageOptions:[15],rowHeight:30,headerHeight:40,components:{Toolbar:l.npt}})})]}),(0,C.jsxs)(p.Z,{show:x,onHide:function(){v(!1)},animation:!1,children:[(0,C.jsx)(p.Z.Header,{closeButton:!0,children:(0,C.jsx)(p.Z.Title,{children:"Edit Rate Card"})}),(0,C.jsx)(p.Z.Body,{children:(0,C.jsxs)(u.Z,{onSubmit:function(e){e.preventDefault();const a=W();Object.keys(a).length>0?T(a):(D(!0),O.put("projonline/updatRateCard/"+t._id,{rateCardValidFrom:w,rateCardValidTo:j,activeStatus:k},{headers:{token:"Bearer "+JSON.parse(localStorage.getItem("user")).accessToken}}).then((e=>{P(e.data.variant),B("Rate Card Updated Successfully"),F(!0),z(""),R(""),v(!1),_(),D(!1)})).catch((e=>{console.log(e)})))},children:[(0,C.jsxs)(c.Z,{className:"mb-3",children:[(0,C.jsxs)(u.Z.Group,{as:h.Z,children:[(0,C.jsx)(u.Z.Label,{children:"Rate Card Valid From"}),(0,C.jsx)(u.Z.Control,{onChange:e=>z(e.target.value),value:w,type:"date",placeholder:"Enter Company Name",isInvalid:!!N.rateCardValidFrom}),(0,C.jsx)(u.Z.Control.Feedback,{type:"invalid",children:N.rateCardValidFrom})]}),(0,C.jsxs)(u.Z.Group,{as:h.Z,children:[(0,C.jsx)(u.Z.Label,{children:"Rate Card Valid To"}),(0,C.jsx)(u.Z.Control,{onChange:e=>R(e.target.value),value:j,type:"date",placeholder:"Enter Company Name",isInvalid:!!N.rateCardValidTo}),(0,C.jsx)(u.Z.Control.Feedback,{type:"invalid",children:N.rateCardValidTo})]}),(0,C.jsxs)(u.Z.Group,{as:h.Z,children:[(0,C.jsx)(u.Z.Label,{children:"Active Status"}),(0,C.jsx)(u.Z.Check,{onChange:e=>I(!k),value:k,checked:k,className:"col-md-9",id:"custom-switch-2",type:"switch"})]})]}),(0,C.jsx)(p.Z.Footer,{children:(0,C.jsx)(d.Z,{variant:"contained",color:"primary",type:"submit",children:"Save"})})]})})]}),(0,C.jsx)(m.Z,{open:V,autoHideDuration:6e3,onClose:()=>F(!1),anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,C.jsx)(y,{onClose:()=>F(!1),severity:L,sx:{width:"100%"},children:E})}),(0,C.jsx)(Z.Z,{open:M,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:(0,C.jsx)(g.Z,{children:(0,C.jsx)(S.Z,{sx:{display:"flex"},children:(0,C.jsx)(f.Z,{})})})})]})}))},24518:(e,t,a)=>{"use strict";a.d(t,{Z:()=>C});var o=a(63366),i=a(87462),r=a(72791),n=a(28182),l=a(85683),d=a(12065),s=a(47630),c=a(61046),h=a(72480),p=a(14036),u=a(89500);function m(e){return(0,u.Z)("MuiButton",e)}const x=(0,a(72823).Z)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","contained","containedInherit","containedPrimary","containedSecondary","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var v=a(80184);const b=["children","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],S=e=>(0,i.Z)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),g=(0,s.ZP)(h.Z,{shouldForwardProp:e=>(0,s.FO)(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,t[a.variant],t["".concat(a.variant).concat((0,p.Z)(a.color))],t["size".concat((0,p.Z)(a.size))],t["".concat(a.variant,"Size").concat((0,p.Z)(a.size))],"inherit"===a.color&&t.colorInherit,a.disableElevation&&t.disableElevation,a.fullWidth&&t.fullWidth]}})((e=>{let{theme:t,ownerState:a}=e;return(0,i.Z)({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:t.shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":(0,i.Z)({textDecoration:"none",backgroundColor:(0,d.Fq)(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===a.variant&&"inherit"!==a.color&&{backgroundColor:(0,d.Fq)(t.palette[a.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===a.variant&&"inherit"!==a.color&&{border:"1px solid ".concat(t.palette[a.color].main),backgroundColor:(0,d.Fq)(t.palette[a.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===a.variant&&{backgroundColor:t.palette.grey.A100,boxShadow:t.shadows[4],"@media (hover: none)":{boxShadow:t.shadows[2],backgroundColor:t.palette.grey[300]}},"contained"===a.variant&&"inherit"!==a.color&&{backgroundColor:t.palette[a.color].dark,"@media (hover: none)":{backgroundColor:t.palette[a.color].main}}),"&:active":(0,i.Z)({},"contained"===a.variant&&{boxShadow:t.shadows[8]}),["&.".concat(x.focusVisible)]:(0,i.Z)({},"contained"===a.variant&&{boxShadow:t.shadows[6]}),["&.".concat(x.disabled)]:(0,i.Z)({color:t.palette.action.disabled},"outlined"===a.variant&&{border:"1px solid ".concat(t.palette.action.disabledBackground)},"outlined"===a.variant&&"secondary"===a.color&&{border:"1px solid ".concat(t.palette.action.disabled)},"contained"===a.variant&&{color:t.palette.action.disabled,boxShadow:t.shadows[0],backgroundColor:t.palette.action.disabledBackground})},"text"===a.variant&&{padding:"6px 8px"},"text"===a.variant&&"inherit"!==a.color&&{color:t.palette[a.color].main},"outlined"===a.variant&&{padding:"5px 15px",border:"1px solid ".concat("light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"outlined"===a.variant&&"inherit"!==a.color&&{color:t.palette[a.color].main,border:"1px solid ".concat((0,d.Fq)(t.palette[a.color].main,.5))},"contained"===a.variant&&{color:t.palette.getContrastText(t.palette.grey[300]),backgroundColor:t.palette.grey[300],boxShadow:t.shadows[2]},"contained"===a.variant&&"inherit"!==a.color&&{color:t.palette[a.color].contrastText,backgroundColor:t.palette[a.color].main},"inherit"===a.color&&{color:"inherit",borderColor:"currentColor"},"small"===a.size&&"text"===a.variant&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},"large"===a.size&&"text"===a.variant&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},"small"===a.size&&"outlined"===a.variant&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},"large"===a.size&&"outlined"===a.variant&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},"small"===a.size&&"contained"===a.variant&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},"large"===a.size&&"contained"===a.variant&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},a.fullWidth&&{width:"100%"})}),(e=>{let{ownerState:t}=e;return t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},["&.".concat(x.focusVisible)]:{boxShadow:"none"},"&:active":{boxShadow:"none"},["&.".concat(x.disabled)]:{boxShadow:"none"}}})),f=(0,s.ZP)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.startIcon,t["iconSize".concat((0,p.Z)(a.size))]]}})((e=>{let{ownerState:t}=e;return(0,i.Z)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},S(t))})),Z=(0,s.ZP)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.endIcon,t["iconSize".concat((0,p.Z)(a.size))]]}})((e=>{let{ownerState:t}=e;return(0,i.Z)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},S(t))})),C=r.forwardRef((function(e,t){const a=(0,c.Z)({props:e,name:"MuiButton"}),{children:r,color:d="primary",component:s="button",disabled:h=!1,disableElevation:u=!1,disableFocusRipple:x=!1,endIcon:S,focusVisibleClassName:C,fullWidth:y=!1,size:w="medium",startIcon:z,type:j,variant:R="text"}=a,k=(0,o.Z)(a,b),I=(0,i.Z)({},a,{color:d,component:s,disabled:h,disableElevation:u,disableFocusRipple:x,fullWidth:y,size:w,type:j,variant:R}),N=(e=>{const{color:t,disableElevation:a,fullWidth:o,size:r,variant:n,classes:d}=e,s={root:["root",n,"".concat(n).concat((0,p.Z)(t)),"size".concat((0,p.Z)(r)),"".concat(n,"Size").concat((0,p.Z)(r)),"inherit"===t&&"colorInherit",a&&"disableElevation",o&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat((0,p.Z)(r))],endIcon:["endIcon","iconSize".concat((0,p.Z)(r))]},c=(0,l.Z)(s,m,d);return(0,i.Z)({},d,c)})(I),T=z&&(0,v.jsx)(f,{className:N.startIcon,ownerState:I,children:z}),V=S&&(0,v.jsx)(Z,{className:N.endIcon,ownerState:I,children:S});return(0,v.jsxs)(g,(0,i.Z)({ownerState:I,component:s,disabled:h,focusRipple:!x,focusVisibleClassName:(0,n.Z)(N.focusVisible,C),ref:t,type:j},k,{classes:N,children:[T,r,V]}))}))},47022:(e,t,a)=>{"use strict";a.d(t,{Z:()=>h});var o=a(87462),i=a(63366),r=a(81694),n=a.n(r),l=a(72791),d=a(10162),s=["bsPrefix","fluid","as","className"],c=l.forwardRef((function(e,t){var a=e.bsPrefix,r=e.fluid,c=e.as,h=void 0===c?"div":c,p=e.className,u=(0,i.Z)(e,s),m=(0,d.vE)(a,"container"),x="string"===typeof r?"-"+r:"-fluid";return l.createElement(h,(0,o.Z)({ref:t},u,{className:n()(p,r?""+m+x:m)}))}));c.displayName="Container",c.defaultProps={fluid:!1};const h=c},2468:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});const o={}},55382:()=>{},72095:()=>{},61219:()=>{}}]);
//# sourceMappingURL=8044.7320ca9e.chunk.js.map