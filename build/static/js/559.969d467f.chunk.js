"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[559],{60559:function(e,n,o){o.r(n);var a=o(74165),t=o(15861),r=o(29439),i=o(1413),l=o(72791),c=o(79271),d=o(74569),s=o.n(d),u=o(3986),p=(o(2468),o(24518)),h=o(47022),m=o(89743),f=o(2677),x=o(39474),v=o(16149),g=o(34575),b=o(19658),y=o(64554),Z=o(39157),S=o(13239),w=o(29818),j=o(80184),C=l.forwardRef((function(e,n){return(0,j.jsx)(b.Z,(0,i.Z)({elevation:6,ref:n,variant:"filled"},e))}));n.default=(0,c.EN)((function(e){var n=(0,l.useState)([]),o=(0,r.Z)(n,2),i=o[0],c=o[1],d=(0,l.useState)(!1),b=(0,r.Z)(d,2),z=b[0],k=b[1],N=(0,l.useState)([]),I=(0,r.Z)(N,2),R=I[0],T=I[1],E=(0,l.useState)(""),B=(0,r.Z)(E,2),O=B[0],F=B[1],P=(0,l.useState)(""),L=(0,r.Z)(P,2),M=L[0],V=L[1],W=(0,l.useState)({}),A=(0,r.Z)(W,2),H=A[0],U=A[1],J=(0,l.useState)(!1),_=(0,r.Z)(J,2),q=_[0],D=_[1],G=(0,l.useState)(""),$=(0,r.Z)(G,2),K=$[0],Q=$[1],X=(0,l.useState)(""),Y=(0,r.Z)(X,2),ee=Y[0],ne=Y[1],oe=(0,l.useState)(!1),ae=(0,r.Z)(oe,2),te=ae[0],re=ae[1],ie=function(){var e={};return O&&""!==O||(e.companyName="cannot be blank!"),e},le=s().create({baseURL:"http://localhost:80/"});(0,l.useEffect)((function(){re(!0),le.get("projonline/users",{headers:{token:"Bearer "+JSON.parse(localStorage.getItem("user")).accessToken}}).then((function(e){c(e.data.users),re(!1)})).catch((function(e){console.log(e)}))}),[]),(0,l.useEffect)((function(){le.get("projonline/allcompany",{headers:{token:"Bearer "+JSON.parse(localStorage.getItem("user")).accessToken}}).then((function(e){T(e.data)})).catch((function(e){console.log(e)}))}),[]);var ce=function(){var e=(0,t.Z)((0,a.Z)().mark((function e(n,o){var t,r,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.row._id,r=o.row.companyName,i=o.row.companyCategory,e.prev=3,e.next=6,le.put("projonline/updatecompany/".concat(t),{companyName:r,companyCategory:i},{headers:{token:"Bearer "+JSON.parse(localStorage.getItem("user")).accessToken}});case 6:200===e.sent.status&&(Q("Company update successfully"),D(!0),le.get("projonline/allcompany",{headers:{token:"Bearer "+JSON.parse(localStorage.getItem("user")).accessToken}}).then((function(e){T(e.data)})).catch((function(e){console.log(e)}))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.error("Error updating company:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(n,o){return e.apply(this,arguments)}}(),de=[{field:"companyName",headerName:"Company Name",width:250},{field:"companyCategory",headerName:"Company Category",width:250,editable:!0,type:"singleSelect",valueOptions:["SubCon","Vender"],renderCell:function(e){return(0,j.jsx)("div",{className:"custom-select",children:e.value})}},{field:"To Edit",width:150,renderCell:function(e){return(0,j.jsx)(p.Z,{variant:"contained",color:"primary",onClick:function(n){ce(n,e)},children:"Edit"})}}],se=[{field:"name",headerName:"Name",width:180},{field:"username",headerName:"Username",width:180},{field:"email",headerName:"email",width:210},{field:"company",headerName:"company",valueGetter:function(e){return e.row.company.companyName},width:200},{field:"adminRights",headerName:"Admin Rights",width:150},{field:"userCanAssignForTask",headerName:"User Can Assign For Tasks",width:150},{field:"visbilityBasedOn",headerName:"VisbilityBasedOn",width:150},{field:"To Edit",width:150,renderCell:function(n){return(0,j.jsx)(p.Z,{variant:"contained",color:"primary",onClick:function(o){!function(n,o){e.history.push({pathname:"/updateSpecificUser",data:o})}(0,n)},children:"To Edit"})}}];return(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{className:"content-wrapper",children:[(0,j.jsx)("div",{className:"content-header",children:(0,j.jsx)("section",{className:"content-header",children:(0,j.jsx)("div",{className:"container-fluid",children:(0,j.jsx)("div",{children:(0,j.jsx)("div",{children:(0,j.jsx)(h.Z,{children:(0,j.jsxs)(m.Z,{children:[(0,j.jsx)(f.Z,{xs:2,children:(0,j.jsx)("h1",{children:"All Users"})}),(0,j.jsx)(f.Z,{xs:4}),(0,j.jsx)(f.Z,{children:(0,j.jsx)("div",{className:"vr"})}),(0,j.jsx)(f.Z,{children:(0,j.jsx)(p.Z,{variant:"contained",color:"primary",onClick:function(e){return k(!0)},children:"Add a new Company"})}),(0,j.jsx)(f.Z,{children:(0,j.jsx)(p.Z,{variant:"contained",color:"primary",onClick:function(n){e.history.push({pathname:"/addSpecificUser"})},children:"Add a new user"})})]})})})})})})}),(0,j.jsx)("div",{style:{height:610,width:"100%"},children:(0,j.jsx)(u._$r,{getRowId:function(e){return e._id},rows:i,columns:se,pageSize:15,rowsPerPageOptions:[15],rowHeight:30,headerHeight:40,components:{Toolbar:u.npt}})})]}),(0,j.jsx)(x.Z,{show:z,onHide:function(){k(!1)},animation:!1,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,j.jsxs)(y.Z,{sx:{marginTop:"350px",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:1e3,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},children:[(0,j.jsx)(x.Z.Header,{closeButton:!0,children:(0,j.jsx)(x.Z.Title,{children:"Add a New Company"})}),(0,j.jsxs)(x.Z.Body,{children:[(0,j.jsxs)(v.Z,{onSubmit:function(e){e.preventDefault();var n=ie();Object.keys(n).length>0?U(n):le.post("projonline/addcompany",{companyName:O,companyCategory:M},{headers:{token:"Bearer "+JSON.parse(localStorage.getItem("user")).accessToken}}).then((function(e){ne(e.data.variant),Q("Company added successfully"),D(!0),F(""),k(!1)})).catch((function(e){console.log(e)}))},children:[(0,j.jsxs)(m.Z,{className:"mb-3",children:[(0,j.jsxs)(v.Z.Group,{as:f.Z,children:[(0,j.jsx)(v.Z.Label,{children:"Company Name"}),(0,j.jsx)(v.Z.Control,{onChange:function(e){return F(e.target.value)},value:O,type:"text",placeholder:"Enter Company Name",isInvalid:!!H.companyName}),(0,j.jsx)(v.Z.Control.Feedback,{type:"invalid",children:H.companyName})]}),(0,j.jsxs)(v.Z.Group,{as:f.Z,children:[(0,j.jsx)(v.Z.Label,{children:"Company Category"}),(0,j.jsxs)(v.Z.Control,{as:"select",onChange:function(e){return V(e.target.value)},value:M,isInvalid:!!H.companyCategory,children:[(0,j.jsx)("option",{value:"SubCon",children:"SubCon"}),(0,j.jsx)("option",{value:"Vender",children:"Vender"})]}),(0,j.jsx)(v.Z.Control.Feedback,{type:"invalid",children:H.companyCategory})]})]}),(0,j.jsx)(x.Z.Footer,{children:(0,j.jsx)(p.Z,{variant:"contained",color:"primary",type:"submit",children:"Save Company"})})]}),(0,j.jsx)("div",{style:{height:410},children:(0,j.jsx)(u._$r,{getRowId:function(e){return e._id},rows:R,columns:de,pageSize:15,rowsPerPageOptions:[15],rowHeight:30,headerHeight:40,components:{Toolbar:u.npt}})})]})]})}),(0,j.jsx)(g.Z,{open:q,autoHideDuration:6e3,onClose:function(){return D(!1)},anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,j.jsx)(C,{onClose:function(){return D(!1)},severity:ee,sx:{width:"100%"},children:K})}),(0,j.jsx)(w.Z,{open:te,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:(0,j.jsx)(Z.Z,{children:(0,j.jsx)(y.Z,{sx:{display:"flex"},children:(0,j.jsx)(S.Z,{})})})})]})}))},24518:function(e,n,o){o.d(n,{Z:function(){return w}});var a=o(4942),t=o(63366),r=o(87462),i=o(72791),l=o(28182),c=o(85683),d=o(12065),s=o(47630),u=o(61046),p=o(72480),h=o(14036),m=o(89500);function f(e){return(0,m.Z)("MuiButton",e)}var x=(0,o(72823).Z)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","contained","containedInherit","containedPrimary","containedSecondary","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),v=o(80184),g=["children","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],b=function(e){return(0,r.Z)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},y=(0,s.ZP)(p.Z,{shouldForwardProp:function(e){return(0,s.FO)(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,n){var o=e.ownerState;return[n.root,n[o.variant],n["".concat(o.variant).concat((0,h.Z)(o.color))],n["size".concat((0,h.Z)(o.size))],n["".concat(o.variant,"Size").concat((0,h.Z)(o.size))],"inherit"===o.color&&n.colorInherit,o.disableElevation&&n.disableElevation,o.fullWidth&&n.fullWidth]}})((function(e){var n,o=e.theme,t=e.ownerState;return(0,r.Z)({},o.typography.button,(n={minWidth:64,padding:"6px 16px",borderRadius:o.shape.borderRadius,transition:o.transitions.create(["background-color","box-shadow","border-color","color"],{duration:o.transitions.duration.short}),"&:hover":(0,r.Z)({textDecoration:"none",backgroundColor:(0,d.Fq)(o.palette.text.primary,o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===t.variant&&"inherit"!==t.color&&{backgroundColor:(0,d.Fq)(o.palette[t.color].main,o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===t.variant&&"inherit"!==t.color&&{border:"1px solid ".concat(o.palette[t.color].main),backgroundColor:(0,d.Fq)(o.palette[t.color].main,o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===t.variant&&{backgroundColor:o.palette.grey.A100,boxShadow:o.shadows[4],"@media (hover: none)":{boxShadow:o.shadows[2],backgroundColor:o.palette.grey[300]}},"contained"===t.variant&&"inherit"!==t.color&&{backgroundColor:o.palette[t.color].dark,"@media (hover: none)":{backgroundColor:o.palette[t.color].main}}),"&:active":(0,r.Z)({},"contained"===t.variant&&{boxShadow:o.shadows[8]})},(0,a.Z)(n,"&.".concat(x.focusVisible),(0,r.Z)({},"contained"===t.variant&&{boxShadow:o.shadows[6]})),(0,a.Z)(n,"&.".concat(x.disabled),(0,r.Z)({color:o.palette.action.disabled},"outlined"===t.variant&&{border:"1px solid ".concat(o.palette.action.disabledBackground)},"outlined"===t.variant&&"secondary"===t.color&&{border:"1px solid ".concat(o.palette.action.disabled)},"contained"===t.variant&&{color:o.palette.action.disabled,boxShadow:o.shadows[0],backgroundColor:o.palette.action.disabledBackground})),n),"text"===t.variant&&{padding:"6px 8px"},"text"===t.variant&&"inherit"!==t.color&&{color:o.palette[t.color].main},"outlined"===t.variant&&{padding:"5px 15px",border:"1px solid ".concat("light"===o.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"outlined"===t.variant&&"inherit"!==t.color&&{color:o.palette[t.color].main,border:"1px solid ".concat((0,d.Fq)(o.palette[t.color].main,.5))},"contained"===t.variant&&{color:o.palette.getContrastText(o.palette.grey[300]),backgroundColor:o.palette.grey[300],boxShadow:o.shadows[2]},"contained"===t.variant&&"inherit"!==t.color&&{color:o.palette[t.color].contrastText,backgroundColor:o.palette[t.color].main},"inherit"===t.color&&{color:"inherit",borderColor:"currentColor"},"small"===t.size&&"text"===t.variant&&{padding:"4px 5px",fontSize:o.typography.pxToRem(13)},"large"===t.size&&"text"===t.variant&&{padding:"8px 11px",fontSize:o.typography.pxToRem(15)},"small"===t.size&&"outlined"===t.variant&&{padding:"3px 9px",fontSize:o.typography.pxToRem(13)},"large"===t.size&&"outlined"===t.variant&&{padding:"7px 21px",fontSize:o.typography.pxToRem(15)},"small"===t.size&&"contained"===t.variant&&{padding:"4px 10px",fontSize:o.typography.pxToRem(13)},"large"===t.size&&"contained"===t.variant&&{padding:"8px 22px",fontSize:o.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})}),(function(e){var n;return e.ownerState.disableElevation&&(n={boxShadow:"none","&:hover":{boxShadow:"none"}},(0,a.Z)(n,"&.".concat(x.focusVisible),{boxShadow:"none"}),(0,a.Z)(n,"&:active",{boxShadow:"none"}),(0,a.Z)(n,"&.".concat(x.disabled),{boxShadow:"none"}),n)})),Z=(0,s.ZP)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,n){var o=e.ownerState;return[n.startIcon,n["iconSize".concat((0,h.Z)(o.size))]]}})((function(e){var n=e.ownerState;return(0,r.Z)({display:"inherit",marginRight:8,marginLeft:-4},"small"===n.size&&{marginLeft:-2},b(n))})),S=(0,s.ZP)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,n){var o=e.ownerState;return[n.endIcon,n["iconSize".concat((0,h.Z)(o.size))]]}})((function(e){var n=e.ownerState;return(0,r.Z)({display:"inherit",marginRight:-4,marginLeft:8},"small"===n.size&&{marginRight:-2},b(n))})),w=i.forwardRef((function(e,n){var o=(0,u.Z)({props:e,name:"MuiButton"}),a=o.children,i=o.color,d=void 0===i?"primary":i,s=o.component,p=void 0===s?"button":s,m=o.disabled,x=void 0!==m&&m,b=o.disableElevation,w=void 0!==b&&b,j=o.disableFocusRipple,C=void 0!==j&&j,z=o.endIcon,k=o.focusVisibleClassName,N=o.fullWidth,I=void 0!==N&&N,R=o.size,T=void 0===R?"medium":R,E=o.startIcon,B=o.type,O=o.variant,F=void 0===O?"text":O,P=(0,t.Z)(o,g),L=(0,r.Z)({},o,{color:d,component:p,disabled:x,disableElevation:w,disableFocusRipple:C,fullWidth:I,size:T,type:B,variant:F}),M=function(e){var n=e.color,o=e.disableElevation,a=e.fullWidth,t=e.size,i=e.variant,l=e.classes,d={root:["root",i,"".concat(i).concat((0,h.Z)(n)),"size".concat((0,h.Z)(t)),"".concat(i,"Size").concat((0,h.Z)(t)),"inherit"===n&&"colorInherit",o&&"disableElevation",a&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat((0,h.Z)(t))],endIcon:["endIcon","iconSize".concat((0,h.Z)(t))]},s=(0,c.Z)(d,f,l);return(0,r.Z)({},l,s)}(L),V=E&&(0,v.jsx)(Z,{className:M.startIcon,ownerState:L,children:E}),W=z&&(0,v.jsx)(S,{className:M.endIcon,ownerState:L,children:z});return(0,v.jsxs)(y,(0,r.Z)({ownerState:L,component:p,disabled:x,focusRipple:!C,focusVisibleClassName:(0,l.Z)(M.focusVisible,k),ref:n,type:B},P,{classes:M,children:[V,a,W]}))}))},47022:function(e,n,o){var a=o(87462),t=o(63366),r=o(81694),i=o.n(r),l=o(72791),c=o(10162),d=["bsPrefix","fluid","as","className"],s=l.forwardRef((function(e,n){var o=e.bsPrefix,r=e.fluid,s=e.as,u=void 0===s?"div":s,p=e.className,h=(0,t.Z)(e,d),m=(0,c.vE)(o,"container"),f="string"===typeof r?"-"+r:"-fluid";return l.createElement(u,(0,a.Z)({ref:n},h,{className:i()(p,r?""+m+f:m)}))}));s.displayName="Container",s.defaultProps={fluid:!1},n.Z=s},2468:function(){}}]);
//# sourceMappingURL=559.969d467f.chunk.js.map