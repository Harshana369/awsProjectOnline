"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[2366],{32366:(e,s,a)=>{a.r(s),a.d(s,{default:()=>p});var n=a(72791),r=a(79271),o=a(74569),l=a.n(o),t=a(16149),d=a(89743),c=a(2677),i=a(43360),w=a(34575),h=a(19658),u=a(80184);const m=n.forwardRef((function(e,s){return(0,u.jsx)(h.Z,{elevation:6,ref:s,variant:"filled",...e})}));const p=(0,r.EN)((function(){let[e,s]=(0,n.useState)(""),[a,r]=(0,n.useState)("");const o=l().create({baseURL:"http://ec2-65-2-5-82.ap-south-1.compute.amazonaws.com/"});let[h,p]=(0,n.useState)({}),[j,x]=(0,n.useState)({}),[P,v]=(0,n.useState)(!1),Z=(e,s)=>{p({...h,[e]:s}),j[e]&&x({...j,[e]:null})};return(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:"content-wrapper",children:[(0,u.jsx)("div",{className:"content-header",children:(0,u.jsx)("section",{className:"content-header",children:(0,u.jsx)("div",{className:"container-fluid",children:(0,u.jsx)("div",{className:"row mb-2",children:(0,u.jsx)("div",{className:"col-sm-6",children:(0,u.jsx)("h1",{children:"Reset Password"})})})})})}),(0,u.jsx)("section",{className:"content",children:(0,u.jsx)("div",{className:"container-fluid",children:(0,u.jsxs)(t.Z,{onSubmit:e=>{e.preventDefault();const a=(()=>{const{newPassword1:e,newPassword2:s,oldPassword:a}=h,n={};return a&&""!==a||(n.oldPassword="cannot be blank!"),e&&""!==e||(n.newPassword1="cannot be blank!"),s&&""!==s||(n.newPassword2="cannot be blank!"),s!=e&&(n.newPassword2="not match!"),n})();Object.keys(a).length>0?x(a):o.post("projonline/changepw",h,{headers:{token:"Bearer "+JSON.parse(localStorage.getItem("user")).accessToken}}).then((e=>{202==e.status?(r("error"),s("Check the current password"),v(!0)):200==e.status&&(r(e.data.variant),s("Password Changed Successfully"),v(!0),p({oldPassword:"",newPassword1:"",newPassword2:""}))})).catch((e=>{console.log(e)}))},children:[(0,u.jsx)(d.Z,{className:"mb-3 ",children:(0,u.jsxs)(t.Z.Group,{as:c.Z,children:[(0,u.jsx)(t.Z.Label,{children:"Username"}),(0,u.jsx)(t.Z.Control,{disabled:!0,value:JSON.parse(localStorage.getItem("user")).name,className:"col-md-3",type:"text"})]})}),(0,u.jsx)(d.Z,{className:"mb-3",children:(0,u.jsxs)(t.Z.Group,{as:c.Z,children:[(0,u.jsx)(t.Z.Label,{children:"Current Password"}),(0,u.jsx)(t.Z.Control,{onChange:e=>Z("oldPassword",e.target.value),value:h.oldPassword,className:"col-md-3",type:"password",placeholder:"Enter Current Password",isInvalid:!!j.oldPassword}),(0,u.jsx)(t.Z.Control.Feedback,{type:"invalid",children:j.oldPassword})]})}),(0,u.jsx)(d.Z,{className:"mb-3",children:(0,u.jsxs)(t.Z.Group,{as:c.Z,children:[(0,u.jsx)(t.Z.Label,{children:"New Password"}),(0,u.jsx)(t.Z.Control,{onChange:e=>Z("newPassword1",e.target.value),value:h.newPassword1,className:"col-md-3",type:"password",placeholder:"Enter New Password",isInvalid:!!j.newPassword1}),(0,u.jsx)(t.Z.Control.Feedback,{type:"invalid",children:j.newPassword1})]})}),(0,u.jsx)(d.Z,{className:"mb-3",children:(0,u.jsxs)(t.Z.Group,{as:c.Z,children:[(0,u.jsx)(t.Z.Label,{children:"Confirm New Password"}),(0,u.jsx)(t.Z.Control,{onChange:e=>Z("newPassword2",e.target.value),value:h.newPassword2,className:"col-md-3",type:"password",placeholder:"Confirm New Password",isInvalid:!!j.newPassword2}),(0,u.jsx)(t.Z.Control.Feedback,{type:"invalid",children:j.newPassword2})]})}),(0,u.jsx)(i.Z,{variant:"primary",type:"submit",children:"Update Password"})]})})})]}),(0,u.jsx)(w.Z,{open:P,autoHideDuration:6e3,onClose:()=>v(!1),anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,u.jsx)(m,{onClose:()=>v(!1),severity:a,sx:{width:"100%"},children:e})})]})}))}}]);
//# sourceMappingURL=2366.e2361701.chunk.js.map