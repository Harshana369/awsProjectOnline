"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[559],{60559:(e,a,o)=>{o.r(a),o.d(a,{default:()=>Z});var t=o(72791),n=o(79271),i=o(74569),r=o.n(i),l=o(3986),s=(o(2468),o(24518)),d=o(47022),c=o(89743),p=o(2677),h=o(39474),u=o(16149),m=o(34575),x=o(19658),g=o(64554),y=o(39157),b=o(13239),v=o(29818),S=o(80184);const f=t.forwardRef((function(e,a){return(0,S.jsx)(x.Z,{elevation:6,ref:a,variant:"filled",...e})}));const Z=(0,n.EN)((function(e){let[a,o]=(0,t.useState)([]),[n,i]=(0,t.useState)(!1),[x,Z]=(0,t.useState)([]),[w,j]=(0,t.useState)(""),[C,z]=(0,t.useState)(""),[N,k]=(0,t.useState)({}),[I,R]=(0,t.useState)(!1),[T,E]=(0,t.useState)(""),[B,O]=(0,t.useState)(""),[F,P]=(0,t.useState)(!1);const L=()=>{const e={};return w&&""!==w||(e.companyName="cannot be blank!"),e},M=r().create({baseURL:"http://35.78.68.113:8072"});(0,t.useEffect)((()=>{P(!0),M.get("projonline/users",{headers:{token:"Bearer "+JSON.parse(localStorage.getItem("user")).accessToken}}).then((e=>{o(e.data.users),P(!1)})).catch((e=>{console.log(e)}))}),[]),(0,t.useEffect)((()=>{M.get("projonline/allcompany",{headers:{token:"Bearer "+JSON.parse(localStorage.getItem("user")).accessToken}}).then((e=>{Z(e.data)})).catch((e=>{console.log(e)}))}),[]);const V=async(e,a)=>{const o=a.row._id,t=a.row.companyName,n=a.row.companyCategory;try{200===(await M.put("projonline/updatecompany/".concat(o),{companyName:t,companyCategory:n},{headers:{token:"Bearer "+JSON.parse(localStorage.getItem("user")).accessToken}})).status&&(E("Company update successfully"),R(!0),M.get("projonline/allcompany",{headers:{token:"Bearer "+JSON.parse(localStorage.getItem("user")).accessToken}}).then((e=>{Z(e.data)})).catch((e=>{console.log(e)})))}catch(i){console.error("Error updating company:",i)}},W=[{field:"companyName",headerName:"Company Name",width:250},{field:"companyCategory",headerName:"Company Category",width:250,editable:!0,type:"singleSelect",valueOptions:["Subcon","Vender"],renderCell:e=>(0,S.jsx)("div",{className:"custom-select",children:e.value})},{field:"To Edit",width:150,renderCell:e=>(0,S.jsx)(s.Z,{variant:"contained",color:"primary",onClick:a=>{V(0,e)},children:"Edit"})}],A=[{field:"name",headerName:"Name",width:180},{field:"username",headerName:"Username",width:180},{field:"email",headerName:"email",width:210},{field:"company",headerName:"company",valueGetter:e=>e.row.company.companyName,width:200},{field:"adminRights",headerName:"Admin Rights",width:150},{field:"userCanAssignForTask",headerName:"User Can Assign For Tasks",width:150},{field:"visbilityBasedOn",headerName:"VisbilityBasedOn",width:150},{field:"To Edit",width:150,renderCell:a=>(0,S.jsx)(s.Z,{variant:"contained",color:"primary",onClick:o=>{((a,o)=>{e.history.push({pathname:"/updateSpecificUser",data:o})})(0,a)},children:"To Edit"})}];return(0,S.jsxs)("div",{children:[(0,S.jsxs)("div",{className:"content-wrapper",children:[(0,S.jsx)("div",{className:"content-header",children:(0,S.jsx)("section",{className:"content-header",children:(0,S.jsx)("div",{className:"container-fluid",children:(0,S.jsx)("div",{children:(0,S.jsx)("div",{children:(0,S.jsx)(d.Z,{children:(0,S.jsxs)(c.Z,{children:[(0,S.jsx)(p.Z,{xs:2,children:(0,S.jsx)("h1",{children:"All Users"})}),(0,S.jsx)(p.Z,{xs:4}),(0,S.jsx)(p.Z,{children:(0,S.jsx)("div",{className:"vr"})}),(0,S.jsx)(p.Z,{children:(0,S.jsx)(s.Z,{variant:"contained",color:"primary",onClick:e=>i(!0),children:"Add a new Company"})}),(0,S.jsx)(p.Z,{children:(0,S.jsx)(s.Z,{variant:"contained",color:"primary",onClick:a=>{e.history.push({pathname:"/addSpecificUser"})},children:"Add a new user"})})]})})})})})})}),(0,S.jsx)("div",{style:{height:610,width:"100%"},children:(0,S.jsx)(l._$r,{getRowId:e=>e._id,rows:a,columns:A,pageSize:15,rowsPerPageOptions:[15],rowHeight:30,headerHeight:40,components:{Toolbar:l.npt}})})]}),(0,S.jsx)(h.Z,{show:n,onHide:function(){i(!1)},animation:!1,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,S.jsxs)(g.Z,{sx:{marginTop:"350px",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:1e3,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},children:[(0,S.jsx)(h.Z.Header,{closeButton:!0,children:(0,S.jsx)(h.Z.Title,{children:"Add a New Company"})}),(0,S.jsxs)(h.Z.Body,{children:[(0,S.jsxs)(u.Z,{onSubmit:function(e){e.preventDefault();const a=L();Object.keys(a).length>0?k(a):M.post("projonline/addcompany",{companyName:w,companyCategory:C},{headers:{token:"Bearer "+JSON.parse(localStorage.getItem("user")).accessToken}}).then((e=>{O(e.data.variant),E("Company added successfully"),R(!0),j(""),i(!1)})).catch((e=>{console.log(e)}))},children:[(0,S.jsxs)(c.Z,{className:"mb-3",children:[(0,S.jsxs)(u.Z.Group,{as:p.Z,children:[(0,S.jsx)(u.Z.Label,{children:"Company Name"}),(0,S.jsx)(u.Z.Control,{onChange:e=>j(e.target.value),value:w,type:"text",placeholder:"Enter Company Name",isInvalid:!!N.companyName}),(0,S.jsx)(u.Z.Control.Feedback,{type:"invalid",children:N.companyName})]}),(0,S.jsxs)(u.Z.Group,{as:p.Z,children:[(0,S.jsx)(u.Z.Label,{children:"Company Category"}),(0,S.jsxs)(u.Z.Control,{as:"select",onChange:e=>z(e.target.value),value:C,isInvalid:!!N.companyCategory,children:[(0,S.jsx)("option",{value:"Subcon",children:"Subcon"}),(0,S.jsx)("option",{value:"Vender",children:"Vender"})]}),(0,S.jsx)(u.Z.Control.Feedback,{type:"invalid",children:N.companyCategory})]})]}),(0,S.jsx)(h.Z.Footer,{children:(0,S.jsx)(s.Z,{variant:"contained",color:"primary",type:"submit",children:"Save Company"})})]}),(0,S.jsx)("div",{style:{height:410},children:(0,S.jsx)(l._$r,{getRowId:e=>e._id,rows:x,columns:W,pageSize:15,rowsPerPageOptions:[15],rowHeight:30,headerHeight:40,components:{Toolbar:l.npt}})})]})]})}),(0,S.jsx)(m.Z,{open:I,autoHideDuration:6e3,onClose:()=>R(!1),anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,S.jsx)(f,{onClose:()=>R(!1),severity:B,sx:{width:"100%"},children:T})}),(0,S.jsx)(v.Z,{open:F,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:(0,S.jsx)(y.Z,{children:(0,S.jsx)(g.Z,{sx:{display:"flex"},children:(0,S.jsx)(b.Z,{})})})})]})}))},24518:(e,a,o)=>{o.d(a,{Z:()=>Z});var t=o(63366),n=o(87462),i=o(72791),r=o(28182),l=o(85683),s=o(12065),d=o(47630),c=o(61046),p=o(72480),h=o(14036),u=o(89500);function m(e){return(0,u.Z)("MuiButton",e)}const x=(0,o(72823).Z)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","contained","containedInherit","containedPrimary","containedSecondary","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var g=o(80184);const y=["children","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],b=e=>(0,n.Z)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),v=(0,d.ZP)(p.Z,{shouldForwardProp:e=>(0,d.FO)(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:o}=e;return[a.root,a[o.variant],a["".concat(o.variant).concat((0,h.Z)(o.color))],a["size".concat((0,h.Z)(o.size))],a["".concat(o.variant,"Size").concat((0,h.Z)(o.size))],"inherit"===o.color&&a.colorInherit,o.disableElevation&&a.disableElevation,o.fullWidth&&a.fullWidth]}})((e=>{let{theme:a,ownerState:o}=e;return(0,n.Z)({},a.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:a.shape.borderRadius,transition:a.transitions.create(["background-color","box-shadow","border-color","color"],{duration:a.transitions.duration.short}),"&:hover":(0,n.Z)({textDecoration:"none",backgroundColor:(0,s.Fq)(a.palette.text.primary,a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===o.variant&&"inherit"!==o.color&&{backgroundColor:(0,s.Fq)(a.palette[o.color].main,a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===o.variant&&"inherit"!==o.color&&{border:"1px solid ".concat(a.palette[o.color].main),backgroundColor:(0,s.Fq)(a.palette[o.color].main,a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===o.variant&&{backgroundColor:a.palette.grey.A100,boxShadow:a.shadows[4],"@media (hover: none)":{boxShadow:a.shadows[2],backgroundColor:a.palette.grey[300]}},"contained"===o.variant&&"inherit"!==o.color&&{backgroundColor:a.palette[o.color].dark,"@media (hover: none)":{backgroundColor:a.palette[o.color].main}}),"&:active":(0,n.Z)({},"contained"===o.variant&&{boxShadow:a.shadows[8]}),["&.".concat(x.focusVisible)]:(0,n.Z)({},"contained"===o.variant&&{boxShadow:a.shadows[6]}),["&.".concat(x.disabled)]:(0,n.Z)({color:a.palette.action.disabled},"outlined"===o.variant&&{border:"1px solid ".concat(a.palette.action.disabledBackground)},"outlined"===o.variant&&"secondary"===o.color&&{border:"1px solid ".concat(a.palette.action.disabled)},"contained"===o.variant&&{color:a.palette.action.disabled,boxShadow:a.shadows[0],backgroundColor:a.palette.action.disabledBackground})},"text"===o.variant&&{padding:"6px 8px"},"text"===o.variant&&"inherit"!==o.color&&{color:a.palette[o.color].main},"outlined"===o.variant&&{padding:"5px 15px",border:"1px solid ".concat("light"===a.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"outlined"===o.variant&&"inherit"!==o.color&&{color:a.palette[o.color].main,border:"1px solid ".concat((0,s.Fq)(a.palette[o.color].main,.5))},"contained"===o.variant&&{color:a.palette.getContrastText(a.palette.grey[300]),backgroundColor:a.palette.grey[300],boxShadow:a.shadows[2]},"contained"===o.variant&&"inherit"!==o.color&&{color:a.palette[o.color].contrastText,backgroundColor:a.palette[o.color].main},"inherit"===o.color&&{color:"inherit",borderColor:"currentColor"},"small"===o.size&&"text"===o.variant&&{padding:"4px 5px",fontSize:a.typography.pxToRem(13)},"large"===o.size&&"text"===o.variant&&{padding:"8px 11px",fontSize:a.typography.pxToRem(15)},"small"===o.size&&"outlined"===o.variant&&{padding:"3px 9px",fontSize:a.typography.pxToRem(13)},"large"===o.size&&"outlined"===o.variant&&{padding:"7px 21px",fontSize:a.typography.pxToRem(15)},"small"===o.size&&"contained"===o.variant&&{padding:"4px 10px",fontSize:a.typography.pxToRem(13)},"large"===o.size&&"contained"===o.variant&&{padding:"8px 22px",fontSize:a.typography.pxToRem(15)},o.fullWidth&&{width:"100%"})}),(e=>{let{ownerState:a}=e;return a.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},["&.".concat(x.focusVisible)]:{boxShadow:"none"},"&:active":{boxShadow:"none"},["&.".concat(x.disabled)]:{boxShadow:"none"}}})),S=(0,d.ZP)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,a)=>{const{ownerState:o}=e;return[a.startIcon,a["iconSize".concat((0,h.Z)(o.size))]]}})((e=>{let{ownerState:a}=e;return(0,n.Z)({display:"inherit",marginRight:8,marginLeft:-4},"small"===a.size&&{marginLeft:-2},b(a))})),f=(0,d.ZP)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,a)=>{const{ownerState:o}=e;return[a.endIcon,a["iconSize".concat((0,h.Z)(o.size))]]}})((e=>{let{ownerState:a}=e;return(0,n.Z)({display:"inherit",marginRight:-4,marginLeft:8},"small"===a.size&&{marginRight:-2},b(a))})),Z=i.forwardRef((function(e,a){const o=(0,c.Z)({props:e,name:"MuiButton"}),{children:i,color:s="primary",component:d="button",disabled:p=!1,disableElevation:u=!1,disableFocusRipple:x=!1,endIcon:b,focusVisibleClassName:Z,fullWidth:w=!1,size:j="medium",startIcon:C,type:z,variant:N="text"}=o,k=(0,t.Z)(o,y),I=(0,n.Z)({},o,{color:s,component:d,disabled:p,disableElevation:u,disableFocusRipple:x,fullWidth:w,size:j,type:z,variant:N}),R=(e=>{const{color:a,disableElevation:o,fullWidth:t,size:i,variant:r,classes:s}=e,d={root:["root",r,"".concat(r).concat((0,h.Z)(a)),"size".concat((0,h.Z)(i)),"".concat(r,"Size").concat((0,h.Z)(i)),"inherit"===a&&"colorInherit",o&&"disableElevation",t&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat((0,h.Z)(i))],endIcon:["endIcon","iconSize".concat((0,h.Z)(i))]},c=(0,l.Z)(d,m,s);return(0,n.Z)({},s,c)})(I),T=C&&(0,g.jsx)(S,{className:R.startIcon,ownerState:I,children:C}),E=b&&(0,g.jsx)(f,{className:R.endIcon,ownerState:I,children:b});return(0,g.jsxs)(v,(0,n.Z)({ownerState:I,component:d,disabled:p,focusRipple:!x,focusVisibleClassName:(0,r.Z)(R.focusVisible,Z),ref:a,type:z},k,{classes:R,children:[T,i,E]}))}))},47022:(e,a,o)=>{o.d(a,{Z:()=>p});var t=o(87462),n=o(63366),i=o(81694),r=o.n(i),l=o(72791),s=o(10162),d=["bsPrefix","fluid","as","className"],c=l.forwardRef((function(e,a){var o=e.bsPrefix,i=e.fluid,c=e.as,p=void 0===c?"div":c,h=e.className,u=(0,n.Z)(e,d),m=(0,s.vE)(o,"container"),x="string"===typeof i?"-"+i:"-fluid";return l.createElement(p,(0,t.Z)({ref:a},u,{className:r()(h,i?""+m+x:m)}))}));c.displayName="Container",c.defaultProps={fluid:!1};const p=c},2468:(e,a,o)=>{o.d(a,{Z:()=>t});const t={}}}]);
//# sourceMappingURL=559.e34a5cfd.chunk.js.map