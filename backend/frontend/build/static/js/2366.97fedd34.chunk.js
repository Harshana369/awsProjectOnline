"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[2366],{32366:(e,s,a)=>{a.r(s),a.d(s,{default:()=>m});var r=a(72791),n=a(79271),o=a(74569),l=a.n(o),d=a(16149),t=a(89743),c=a(2677),i=a(43360),w=a(34575),h=a(19658),u=a(80184);const j=r.forwardRef((function(e,s){return(0,u.jsx)(h.Z,{elevation:6,ref:s,variant:"filled",...e})}));const m=(0,n.EN)((function(){let[e,s]=(0,r.useState)(""),[a,n]=(0,r.useState)("");const o=l().create({baseURL:"http://35.78.68.113:8072"});let[h,m]=(0,r.useState)({}),[x,p]=(0,r.useState)({}),[P,v]=(0,r.useState)(!1),Z=(e,s)=>{m({...h,[e]:s}),x[e]&&p({...x,[e]:null})};return(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:"content-wrapper",children:[(0,u.jsx)("div",{className:"content-header",children:(0,u.jsx)("section",{className:"content-header",children:(0,u.jsx)("div",{className:"container-fluid",children:(0,u.jsx)("div",{className:"row mb-2",children:(0,u.jsx)("div",{className:"col-sm-6",children:(0,u.jsx)("h1",{children:"Reset Password"})})})})})}),(0,u.jsx)("section",{className:"content",children:(0,u.jsx)("div",{className:"container-fluid",children:(0,u.jsxs)(d.Z,{onSubmit:e=>{e.preventDefault();const a=(()=>{const{newPassword1:e,newPassword2:s,oldPassword:a}=h,r={};return a&&""!==a||(r.oldPassword="cannot be blank!"),e&&""!==e||(r.newPassword1="cannot be blank!"),s&&""!==s||(r.newPassword2="cannot be blank!"),s!=e&&(r.newPassword2="not match!"),r})();Object.keys(a).length>0?p(a):o.post("projonline/changepw",h,{headers:{token:"Bearer "+JSON.parse(localStorage.getItem("user")).accessToken}}).then((e=>{202==e.status?(n("error"),s("Check the current password"),v(!0)):200==e.status&&(n(e.data.variant),s("Password Changed Successfully"),v(!0),m({oldPassword:"",newPassword1:"",newPassword2:""}))})).catch((e=>{console.log(e)}))},children:[(0,u.jsx)(t.Z,{className:"mb-3 ",children:(0,u.jsxs)(d.Z.Group,{as:c.Z,children:[(0,u.jsx)(d.Z.Label,{children:"Username"}),(0,u.jsx)(d.Z.Control,{disabled:!0,value:JSON.parse(localStorage.getItem("user")).name,className:"col-md-3",type:"text"})]})}),(0,u.jsx)(t.Z,{className:"mb-3",children:(0,u.jsxs)(d.Z.Group,{as:c.Z,children:[(0,u.jsx)(d.Z.Label,{children:"Current Password"}),(0,u.jsx)(d.Z.Control,{onChange:e=>Z("oldPassword",e.target.value),value:h.oldPassword,className:"col-md-3",type:"password",placeholder:"Enter Current Password",isInvalid:!!x.oldPassword}),(0,u.jsx)(d.Z.Control.Feedback,{type:"invalid",children:x.oldPassword})]})}),(0,u.jsx)(t.Z,{className:"mb-3",children:(0,u.jsxs)(d.Z.Group,{as:c.Z,children:[(0,u.jsx)(d.Z.Label,{children:"New Password"}),(0,u.jsx)(d.Z.Control,{onChange:e=>Z("newPassword1",e.target.value),value:h.newPassword1,className:"col-md-3",type:"password",placeholder:"Enter New Password",isInvalid:!!x.newPassword1}),(0,u.jsx)(d.Z.Control.Feedback,{type:"invalid",children:x.newPassword1})]})}),(0,u.jsx)(t.Z,{className:"mb-3",children:(0,u.jsxs)(d.Z.Group,{as:c.Z,children:[(0,u.jsx)(d.Z.Label,{children:"Confirm New Password"}),(0,u.jsx)(d.Z.Control,{onChange:e=>Z("newPassword2",e.target.value),value:h.newPassword2,className:"col-md-3",type:"password",placeholder:"Confirm New Password",isInvalid:!!x.newPassword2}),(0,u.jsx)(d.Z.Control.Feedback,{type:"invalid",children:x.newPassword2})]})}),(0,u.jsx)(i.Z,{variant:"primary",type:"submit",children:"Update Password"})]})})})]}),(0,u.jsx)(w.Z,{open:P,autoHideDuration:6e3,onClose:()=>v(!1),anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,u.jsx)(j,{onClose:()=>v(!1),severity:a,sx:{width:"100%"},children:e})})]})}))}}]);
//# sourceMappingURL=2366.97fedd34.chunk.js.map