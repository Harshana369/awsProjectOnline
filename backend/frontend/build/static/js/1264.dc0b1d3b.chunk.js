(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[1264],{95073:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>w});var a=o(72791),n=o(79271),r=o(74569),i=o.n(r),l=o(3986),c=(o(2468),o(24518)),s=o(47022),d=o(89743),p=o(2677),h=o(39474),u=o(16149),m=o(34575),x=o(19658),b=o(58484),j=o.n(b),g=o(64554),v=o(39157),S=o(13239),Z=o(29818),f=o(80184);const y=a.forwardRef((function(e,t){return(0,f.jsx)(x.Z,{elevation:6,ref:t,variant:"filled",...e})}));const w=(0,n.EN)((function(e){let[t,o]=(0,a.useState)([]),[n,r]=(0,a.useState)([]),[x,b]=(0,a.useState)(!1),[w,z]=(0,a.useState)(""),[P,C]=(0,a.useState)(""),[I,k]=(0,a.useState)(""),[N,R]=(0,a.useState)(!1),[M,T]=(0,a.useState)(""),[E,D]=(0,a.useState)(""),[F,B]=(0,a.useState)(!1),[L,_]=(0,a.useState)({}),[O,W]=(0,a.useState)({}),[V,G]=(0,a.useState)([]),H=(e,t)=>{_({...L,[e]:t}),O[e]&&W({...O,[e]:null})};const q=i().create({baseURL:"http://ec2-65-2-5-82.ap-south-1.compute.amazonaws.com/"});(0,a.useEffect)((()=>{A()}),[]);const A=(e,t)=>{B(!0),q.get("projonline/project",{headers:{token:"Bearer "+JSON.parse(localStorage.getItem("user")).accessToken}}).then((e=>{r(e.data.projTemplates),B(!1)})).catch((e=>{console.log(e)})),q.get("projonline/mobitelusers",{headers:{token:"Bearer "+JSON.parse(localStorage.getItem("user")).accessToken}}).then((e=>{G(e.data)})).catch((e=>{console.log(e)}))},J=[{field:"projectID",headerName:"Project ID",width:250},{field:"project",headerName:"Project",width:200},{field:"subProject",headerName:"Sub Project",width:250},{field:"name",headerName:"Assigned Project Manager",valueGetter:e=>{var t;return null===(t=e.row.assignedProjectManager)||void 0===t?void 0:t.name},width:250},{field:"To Edit",width:150,renderCell:e=>(0,f.jsx)(c.Z,{variant:"contained",color:"primary",onClick:t=>(e=>{var t;b(!0),_({_id:e._id,project:e.project,subProject:e.subProject,projectID:e.projectID,assignedProjectManager:null===(t=e.assignedProjectManager)||void 0===t?void 0:t._id})})(e.row),children:"To Edit"})},{field:"Download",width:150,renderCell:e=>(0,f.jsx)(c.Z,{variant:"contained",color:"primary",onClick:t=>(e=>{var t=j().utils.book_new(),o=[];o.unshift(e.properties);var a=j().utils.aoa_to_sheet(o);j().utils.book_append_sheet(t,a,"Project Template Properties"),j().writeFile(t,"Project Template.xlsx")})(e.row),children:"Download"})}];return(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:"content-wrapper",children:[(0,f.jsx)("div",{className:"content-header",children:(0,f.jsx)("section",{className:"content-header",children:(0,f.jsx)("div",{className:"container-fluid",children:(0,f.jsx)("div",{children:(0,f.jsx)("div",{children:(0,f.jsx)(s.Z,{children:(0,f.jsxs)(d.Z,{children:[(0,f.jsx)(p.Z,{xs:4,children:(0,f.jsx)("h1",{children:"All Project Templates"})}),(0,f.jsx)(p.Z,{xs:2}),(0,f.jsx)(p.Z,{children:(0,f.jsx)("div",{className:"vr"})}),(0,f.jsx)(p.Z,{children:(0,f.jsx)(c.Z,{variant:"contained",color:"primary",onClick:t=>e.history.push({pathname:"/CreateProjectTemplate"}),children:"Add a new project template"})})]})})})})})})}),(0,f.jsx)("div",{style:{height:610,width:"100%"},children:(0,f.jsx)(l._$r,{getRowId:e=>e._id,rows:n,columns:J,pageSize:15,rowsPerPageOptions:[15],rowHeight:30,headerHeight:40,components:{Toolbar:l.npt}})})]}),(0,f.jsxs)(h.Z,{show:x,onHide:function(){b(!1)},animation:!1,children:[(0,f.jsx)(h.Z.Header,{closeButton:!0,children:(0,f.jsx)(h.Z.Title,{children:"Edit Project Template"})}),(0,f.jsx)(h.Z.Body,{children:(0,f.jsxs)(u.Z,{onSubmit:e=>{e.preventDefault(),B(!0);const t=(()=>{const{subProject:e,project:t}=L,o={};return e&&""!==e||(o.subProject="cannot be blank!"),t&&""!==t||(o.project="cannot be blank!"),o})();if(Object.keys(t).length>0)W(t),B(!1);else{L.projectID,L.assignedProjectManager;q.put("projonline/updateprojecttemp/".concat(L._id),L,{headers:{token:"Bearer "+JSON.parse(localStorage.getItem("user")).accessToken}}).then((e=>{T(e.data.msg),D(e.data.variant),R(!0),_({_id:"",project:"",subProject:"",projectID:"",assignedProjectManager:""}),A(),b(!1),B(!1)})).catch((e=>{console.log(e)}))}},children:[(0,f.jsxs)(d.Z,{className:"mb-3",children:[(0,f.jsxs)(u.Z.Group,{as:p.Z,children:[(0,f.jsx)(u.Z.Label,{children:"Project ID"}),(0,f.jsx)(u.Z.Control,{disabled:!0,onChange:e=>H("projectID",e.target.value),value:L.projectID,className:"col-md-9",type:"text",placeholder:"Enter Project Name",isInvalid:!!O.projectID}),(0,f.jsx)(u.Z.Control.Feedback,{type:"invalid",children:O.projectID})]}),(0,f.jsxs)(u.Z.Group,{as:p.Z,children:[(0,f.jsx)(u.Z.Label,{children:"Project Manager"}),(0,f.jsxs)(u.Z.Control,{onChange:e=>H("assignedProjectManager",e.target.value),value:L.assignedProjectManager,className:"col-md-9",as:"select",defaultValue:"Choose...",isInvalid:!!O.assignedProjectManager,children:[(0,f.jsx)("option",{children:"Choose..."}),V.map((e=>(0,f.jsx)("option",{value:e._id,children:e.name})))]}),(0,f.jsx)(u.Z.Control.Feedback,{type:"invalid",children:O.assignedMobitelOfficer})]})]}),(0,f.jsxs)(d.Z,{className:"mb-3",children:[(0,f.jsxs)(u.Z.Group,{as:p.Z,children:[(0,f.jsx)(u.Z.Label,{children:"Project Name"}),(0,f.jsx)(u.Z.Control,{disabled:!0,onChange:e=>H("project",e.target.value),value:L.project,className:"col-md-9",type:"text",placeholder:"Enter Project Name",isInvalid:!!O.project}),(0,f.jsx)(u.Z.Control.Feedback,{type:"invalid",children:O.project})]}),(0,f.jsxs)(u.Z.Group,{as:p.Z,children:[(0,f.jsx)(u.Z.Label,{children:"Sub-Project Name"}),(0,f.jsx)(u.Z.Control,{disabled:!0,onChange:e=>H("subProject",e.target.value),value:L.subProject,className:"col-md-9",type:"text",placeholder:"Enter Sub-Project Name",isInvalid:!!O.subProject}),(0,f.jsx)(u.Z.Control.Feedback,{type:"invalid",children:O.subProject})]})]}),(0,f.jsx)(h.Z.Footer,{children:(0,f.jsx)(c.Z,{variant:"contained",color:"primary",type:"submit",children:"Save"})})]})})]}),(0,f.jsx)(m.Z,{open:N,autoHideDuration:6e3,onClose:()=>R(!1),anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,f.jsx)(y,{onClose:()=>R(!1),severity:E,sx:{width:"100%"},children:M})}),(0,f.jsx)(Z.Z,{open:F,onClose:(e,t)=>{"clickaway"!==t&&R(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:(0,f.jsx)(v.Z,{children:(0,f.jsx)(g.Z,{sx:{display:"flex"},children:(0,f.jsx)(S.Z,{})})})})]})}))},24518:(e,t,o)=>{"use strict";o.d(t,{Z:()=>f});var a=o(63366),n=o(87462),r=o(72791),i=o(28182),l=o(85683),c=o(12065),s=o(47630),d=o(61046),p=o(72480),h=o(14036),u=o(89500);function m(e){return(0,u.Z)("MuiButton",e)}const x=(0,o(72823).Z)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","contained","containedInherit","containedPrimary","containedSecondary","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var b=o(80184);const j=["children","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],g=e=>(0,n.Z)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),v=(0,s.ZP)(p.Z,{shouldForwardProp:e=>(0,s.FO)(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.variant],t["".concat(o.variant).concat((0,h.Z)(o.color))],t["size".concat((0,h.Z)(o.size))],t["".concat(o.variant,"Size").concat((0,h.Z)(o.size))],"inherit"===o.color&&t.colorInherit,o.disableElevation&&t.disableElevation,o.fullWidth&&t.fullWidth]}})((e=>{let{theme:t,ownerState:o}=e;return(0,n.Z)({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:t.shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":(0,n.Z)({textDecoration:"none",backgroundColor:(0,c.Fq)(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===o.variant&&"inherit"!==o.color&&{backgroundColor:(0,c.Fq)(t.palette[o.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===o.variant&&"inherit"!==o.color&&{border:"1px solid ".concat(t.palette[o.color].main),backgroundColor:(0,c.Fq)(t.palette[o.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===o.variant&&{backgroundColor:t.palette.grey.A100,boxShadow:t.shadows[4],"@media (hover: none)":{boxShadow:t.shadows[2],backgroundColor:t.palette.grey[300]}},"contained"===o.variant&&"inherit"!==o.color&&{backgroundColor:t.palette[o.color].dark,"@media (hover: none)":{backgroundColor:t.palette[o.color].main}}),"&:active":(0,n.Z)({},"contained"===o.variant&&{boxShadow:t.shadows[8]}),["&.".concat(x.focusVisible)]:(0,n.Z)({},"contained"===o.variant&&{boxShadow:t.shadows[6]}),["&.".concat(x.disabled)]:(0,n.Z)({color:t.palette.action.disabled},"outlined"===o.variant&&{border:"1px solid ".concat(t.palette.action.disabledBackground)},"outlined"===o.variant&&"secondary"===o.color&&{border:"1px solid ".concat(t.palette.action.disabled)},"contained"===o.variant&&{color:t.palette.action.disabled,boxShadow:t.shadows[0],backgroundColor:t.palette.action.disabledBackground})},"text"===o.variant&&{padding:"6px 8px"},"text"===o.variant&&"inherit"!==o.color&&{color:t.palette[o.color].main},"outlined"===o.variant&&{padding:"5px 15px",border:"1px solid ".concat("light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"outlined"===o.variant&&"inherit"!==o.color&&{color:t.palette[o.color].main,border:"1px solid ".concat((0,c.Fq)(t.palette[o.color].main,.5))},"contained"===o.variant&&{color:t.palette.getContrastText(t.palette.grey[300]),backgroundColor:t.palette.grey[300],boxShadow:t.shadows[2]},"contained"===o.variant&&"inherit"!==o.color&&{color:t.palette[o.color].contrastText,backgroundColor:t.palette[o.color].main},"inherit"===o.color&&{color:"inherit",borderColor:"currentColor"},"small"===o.size&&"text"===o.variant&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},"large"===o.size&&"text"===o.variant&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},"small"===o.size&&"outlined"===o.variant&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},"large"===o.size&&"outlined"===o.variant&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},"small"===o.size&&"contained"===o.variant&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},"large"===o.size&&"contained"===o.variant&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},o.fullWidth&&{width:"100%"})}),(e=>{let{ownerState:t}=e;return t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},["&.".concat(x.focusVisible)]:{boxShadow:"none"},"&:active":{boxShadow:"none"},["&.".concat(x.disabled)]:{boxShadow:"none"}}})),S=(0,s.ZP)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.startIcon,t["iconSize".concat((0,h.Z)(o.size))]]}})((e=>{let{ownerState:t}=e;return(0,n.Z)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},g(t))})),Z=(0,s.ZP)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.endIcon,t["iconSize".concat((0,h.Z)(o.size))]]}})((e=>{let{ownerState:t}=e;return(0,n.Z)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},g(t))})),f=r.forwardRef((function(e,t){const o=(0,d.Z)({props:e,name:"MuiButton"}),{children:r,color:c="primary",component:s="button",disabled:p=!1,disableElevation:u=!1,disableFocusRipple:x=!1,endIcon:g,focusVisibleClassName:f,fullWidth:y=!1,size:w="medium",startIcon:z,type:P,variant:C="text"}=o,I=(0,a.Z)(o,j),k=(0,n.Z)({},o,{color:c,component:s,disabled:p,disableElevation:u,disableFocusRipple:x,fullWidth:y,size:w,type:P,variant:C}),N=(e=>{const{color:t,disableElevation:o,fullWidth:a,size:r,variant:i,classes:c}=e,s={root:["root",i,"".concat(i).concat((0,h.Z)(t)),"size".concat((0,h.Z)(r)),"".concat(i,"Size").concat((0,h.Z)(r)),"inherit"===t&&"colorInherit",o&&"disableElevation",a&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat((0,h.Z)(r))],endIcon:["endIcon","iconSize".concat((0,h.Z)(r))]},d=(0,l.Z)(s,m,c);return(0,n.Z)({},c,d)})(k),R=z&&(0,b.jsx)(S,{className:N.startIcon,ownerState:k,children:z}),M=g&&(0,b.jsx)(Z,{className:N.endIcon,ownerState:k,children:g});return(0,b.jsxs)(v,(0,n.Z)({ownerState:k,component:s,disabled:p,focusRipple:!x,focusVisibleClassName:(0,i.Z)(N.focusVisible,f),ref:t,type:P},I,{classes:N,children:[R,r,M]}))}))},47022:(e,t,o)=>{"use strict";o.d(t,{Z:()=>p});var a=o(87462),n=o(63366),r=o(81694),i=o.n(r),l=o(72791),c=o(10162),s=["bsPrefix","fluid","as","className"],d=l.forwardRef((function(e,t){var o=e.bsPrefix,r=e.fluid,d=e.as,p=void 0===d?"div":d,h=e.className,u=(0,n.Z)(e,s),m=(0,c.vE)(o,"container"),x="string"===typeof r?"-"+r:"-fluid";return l.createElement(p,(0,a.Z)({ref:t},u,{className:i()(h,r?""+m+x:m)}))}));d.displayName="Container",d.defaultProps={fluid:!1};const p=d},2468:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});const a={}},55382:()=>{},72095:()=>{},61219:()=>{}}]);
//# sourceMappingURL=1264.dc0b1d3b.chunk.js.map